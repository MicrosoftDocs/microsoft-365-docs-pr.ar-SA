---
title: تشغيل الحماية من الهجمات للمساعدة في الحد من الهجمات
keywords: استغلال، وتخفيف، وهجمة، وضعف
description: تعرف على كيفية تمكين الحماية من استغلال Windows. تساعد الحماية من استغلال جهازك على حماية جهازك من البرامج الضارة.
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.collection: m365-security-compliance
ms.date: 10/19/2021
ms.openlocfilehash: ed7b79e43d41ce746eb7c09acd7926c76360f956
ms.sourcegitcommit: bdd6ffc6ebe4e6cb212ab22793d9513dae6d798c
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/08/2022
ms.locfileid: "63573838"
---
# <a name="enable-exploit-protection"></a>تمكين الحماية من استغلال

**ينطبق على:**
- [خطة Microsoft Defender لنقطة النهاية 2](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [خطة Microsoft Defender لنقطة النهاية 1](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> [!TIP]
> هل تريد تجربة Defender لنقطة النهاية؟ [التسجيل للحصول على تجربة مجانية.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-assignaccess-abovefoldlink)

[تساعد الحماية من](exploit-protection.md) استغلال البرامج الضارة التي تستخدم استغلالات لإصابة الأجهزة ونشرها. تتكون الحماية من استغلال العديد من عمليات التخفيف التي يمكن تطبيقها على نظام التشغيل أو التطبيقات الفردية.

> [!IMPORTANT]
> لا يتوافق .NET 2.0 مع بعض قدرات الحماية من استغلال، على وجه التحديد، تصفية عنوان التصدير (EAF) وتصفية عنوان الاستيراد (IAF). إذا قمت بتمكين .NET 2.0، فإن استخدام EAF و IAF غير معتمد.

يتم تضمين العديد من الميزات من مجموعة أدوات تجربة تخفيف المخاطر المحسنة (EMET) في الحماية من المخاطر.

يمكنك تمكين كل عملية تخفيف بشكل منفصل باستخدام أي من هذه الأساليب:

- [أمن Windows التطبيق](#windows-security-app)
- [Microsoft Intune](#intune)
- [إدارة أجهزة المحمول (MDM)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [نهج المجموعة](#group-policy)
- [PowerShell](#powershell)

يتم تكوين الحماية من استغلال بشكل افتراضي في Windows 10 Windows 11. يمكنك تعيين كل تخفيف إلى القيمة الافتراضية أو إيقاف تشغيلها أو إلى قيمتها الافتراضية. تتضمن بعض عمليات التخفيف المزيد من الخيارات. يمكنك تصدير [هذه الإعدادات كملف XML](import-export-exploit-protection-emet-xml.md) ونشرها على أجهزة أخرى.

يمكنك أيضا تعيين عمليات التخفيف إلى [وضع التدقيق](evaluate-exploit-protection.md). يسمح لك وضع التدقيق باختبار كيفية عمل عمليات التخفيف (ومراجعة الأحداث) دون التأثير على الاستخدام العادي للجهاز.

## <a name="windows-security-app"></a>أمن Windows التطبيق

1. افتح أمن Windows عن طريق تحديد أيقونة الدرع في شريط المهام أو البحث في قائمة البدء عن **الأمان**.

2. حدد لوحة **& التحكم** في المستعرض (أو أيقونة التطبيق على شريط القوائم الأيسر) ثم حدد **إعدادات الحماية من استغلال.**

3. انتقل إلى **إعدادات البرنامج** واختر التطبيق الذي تريد تطبيق عمليات التخفيف عليه.
    - إذا كان التطبيق الذي تريد تكوينه مدرجا بالفعل، فحدده، ثم حدد **تحرير**.
    - إذا لم يكن التطبيق مدرجا، في أعلى القائمة، حدد إضافة برنامج  لتخصيصه، ثم اختر الطريقة التي تريد إضافة التطبيق بها.
    - استخدم **إضافة حسب اسم البرنامج** لتطبق عملية التخفيف على أي عملية قيد التشغيل بهذا الاسم. حدد ملفا بملحقه. يمكنك إدخال مسار كامل لقصر عملية التخفيف على التطبيق الذي يحتوي على هذا الاسم فقط في ذلك الموقع.
    - استخدم **اختيار مسار الملف الدقيق** لاستخدام نافذة Windows مستكشف الملفات القياسية للعثور على الملف الذي تريده وتحديده.

4. بعد تحديد التطبيق، سترى قائمة بكل عمليات التخفيف التي يمكن تطبيقها. يؤدي **اختيار** التدقيق إلى تطبيق التخفيف في وضع التدقيق فقط. يتم إعلامك إذا كنت بحاجة إلى إعادة تشغيل العملية أو التطبيق، أو إذا كنت بحاجة إلى إعادة تشغيل Windows.

5. كرر الخطوات من 3 إلى 4 لجميع التطبيقات وتخفيف التطبيقات التي تريد تكوينها.

6. ضمن المقطع **إعدادات النظام** ، ابحث عن التخفيف الذي تريد تكوينه، ثم حدد أحد الإعدادات التالية. تستخدم التطبيقات التي لم يتم تكوينها بشكل فردي في المقطع  إعدادات البرنامج الإعدادات التي تم تكوينها هنا.
    - **تشغيل بشكل افتراضي**: يتم تمكين التخفيف  للتطبيقات التي ليس لديها مجموعة التخفيف هذه في المقطع إعدادات البرنامج **الخاصة للتطبيقات**
    - **إيقاف التشغيل** بشكل افتراضي: يتم تعطيل  التخفيف للتطبيقات التي ليس لديها مجموعة التخفيف هذه في المقطع إعدادات البرنامج **الخاصة للتطبيقات**
    - الاستخدام **الافتراضي: يتم** تمكين عملية التخفيف أو تعطيلها، استنادا إلى التكوين الافتراضي الذي تم إعداده بواسطة تثبيت Windows 10 أو Windows 11؛ يتم دائما تحديد القيمة **الافتراضية (تشغيل** أو **إيقاف تشغيل)** إلى جانب التسمية الافتراضية استخدام كل عملية تخفيف

7. كرر الخطوة 6 لجميع عمليات التخفيف على مستوى النظام التي تريد تكوينها. حدد **تطبيق** عند انتهائك من إعداد التكوين.

إذا أضفت تطبيقا إلى قسم  إعدادات البرنامج وتكوين إعدادات التخفيف الفردية هناك، سيتم احترامها أعلى تكوين عمليات التخفيف نفسها المحددة في المقطع **إعدادات النظام.** تساعد المصفوفة والأمثلة التالية على توضيح كيفية عمل الإعدادات الافتراضية:

|تم التمكين في **إعدادات البرنامج**|تم التمكين في **إعدادات النظام**|السلوك|
|:---|:---|:---|
|نعم|لا|كما هو محدد في **إعدادات البرنامج**|
|نعم|نعم|كما هو محدد في **إعدادات البرنامج**|
|لا|نعم|كما هو محدد **في إعدادات النظام**|
|لا|نعم|الخيار الافتراضي كما هو معرف **في استخدام الخيار** الافتراضي|

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>المثال 1: تقوم Mikael بتكوين المقطع "منع تنفيذ تنفيذ البيانات" في إعدادات النظام لتكون م إيقاف التشغيل بشكل افتراضي

يضيف Mikael التطبيق *test.exeإلى* **قسم إعدادات** البرنامج. في الخيارات الخاصة بهذا التطبيق، ضمن منع تنفيذ البيانات **(DEP)،** يمكن Mikael خيار إعدادات النظام التجاوز  ويضبط التبديل إلى **تشغيل**. لا توجد تطبيقات أخرى مدرجة في قسم **إعدادات** البرنامج.

والنتيجة هي تمكين DEP *فقطtest.exe.* لن يتم تطبيق DEP على جميع التطبيقات الأخرى.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>المثال 2: تقوم "جوزي" بتكوين "منع تنفيذ تنفيذ البيانات" في إعدادات النظام لتكون م إيقاف التشغيل بشكل افتراضي

يضيف جوزي *التطبيقtest.exeإلى* **قسم إعدادات** البرنامج. في الخيارات الخاصة بهذا التطبيق، ضمن منع تنفيذ البيانات **(DEP)،** يمكن Josie خيار إعدادات النظام التجاوز  ويضبط التبديل إلى **تشغيل**.

يضيف جوزي أيضا *miles.exeإلى قسم* إعدادات البرنامج ويكوين عنصر التحكم  **flow guard (CFG)** إلى **تشغيل**. لا يمكن 'جوزي' خيار 'تجاوز إعدادات النظام' ل DEP أو أي عمليات تخفيف أخرى لهذا التطبيق.

والنتيجة هي تمكين *DEPtest.exe.* لن يتم تمكين DEP لأي تطبيق آخر، بما في ذلك *miles.exe*. سيتم تمكين CFG *miles.exe.*

1. افتح أمن Windows عن طريق تحديد أيقونة الدرع في شريط المهام أو البحث في قائمة **البدء أمن Windows.**

2. حدد لوحة **& التحكم** في المستعرض (أو أيقونة التطبيق على شريط القوائم الأيسر) ثم حدد **الحماية من استغلال.**

3. انتقل إلى **إعدادات البرنامج** واختر التطبيق الذي تريد تطبيق عمليات التخفيف عليه.<br/>
    - إذا كان التطبيق الذي تريد تكوينه مدرجا بالفعل، فحدده، ثم حدد **تحرير**.
    - إذا لم يكن التطبيق مدرجا، في أعلى القائمة، حدد إضافة برنامج  لتخصيصه، ثم اختر الطريقة التي تريد إضافة التطبيق بها.<br/>
      - استخدم **إضافة حسب اسم البرنامج** لتطبق عملية التخفيف على أي عملية قيد التشغيل بهذا الاسم. حدد ملفا يحتوي على ملحق. يمكنك إدخال مسار كامل لقصر عملية التخفيف على التطبيق الذي يحتوي على هذا الاسم فقط في ذلك الموقع.
      - استخدم **اختيار مسار الملف الدقيق** لاستخدام نافذة Windows مستكشف الملفات القياسية للعثور على الملف الذي تريده وتحديده.

4. بعد تحديد التطبيق، سترى قائمة بكل عمليات التخفيف التي يمكن تطبيقها. يؤدي **اختيار** التدقيق إلى تطبيق التخفيف في وضع التدقيق فقط. سيتم إعلامك إذا كنت بحاجة إلى إعادة تشغيل العملية أو التطبيق، أو إذا كنت بحاجة إلى إعادة تشغيل Windows.

5. كرر الخطوات من 3 إلى 4 لجميع التطبيقات وتخفيف التطبيقات التي تريد تكوينها. حدد **تطبيق** عند انتهائك من إعداد التكوين.

## <a name="intune"></a>Intune

1. سجل الدخول إلى [مدخل Azure](https://portal.azure.com) وافتح Intune.

2. انتقل إلى **ملفات تعريف** \> **تكوين الجهاز** \> **إنشاء ملف تعريف**.

3. قم تسمية ملف التعريف، **واختر Windows 10 واللاحقة** وحماية **نقطة النهاية**.

   :::image type="content" source="images/create-endpoint-protection-profile.png" alt-text="إنشاء ملف تعريف حماية نقطة النهاية.":::

4. حدد **تكوين Windows** \> **الحماية من استغلال Defender Guard** \> **.**

5. Upload [ملف XML](/windows/client-management/mdm/policy-csp-exploitguard) مع إعدادات الحماية من استغلال:

   :::image type="content" source="images/enable-ep-intune.png" alt-text="تمكين حماية الشبكة في Intune.":::

6. حدد **موافق** لحفظ كل ريشة مفتوحة، ثم اختر **إنشاء**.

7. حدد علامة التبويب **تعيينات** ملف التعريف، وحدد النهج لكل المستخدمين & **كافة الأجهزة**، ثم حدد **حفظ**.

## <a name="mdm"></a>MDM

استخدم [موفر خدمة تكوين ./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](/windows/client-management/mdm/policy-csp-exploitguard) (CSP) لتمكين عمليات تقليل الحماية من المخاطر أو تعطيلها أو لاستخدام وضع التدقيق.

## <a name="microsoft-endpoint-manager"></a>إدارة نقاط النهاية من Microsoft

1. في إدارة نقاط النهاية من Microsoft، انتقل إلى الحد من سطح الهجوم **الأمني** \> **لنقطة النهاية**.

2. حدد **إنشاء النظام الأساسي لنص** \> النهج، وبالنسبة لملف **التعريف**، اختر **الحماية من استغلال**. ثم حدد **إنشاء**.

3. حدد اسما ووصفا، ثم اختر **التالي**.

4. اختر **تحديد ملف XML** واستعرض موقع ملف الحماية من استغلال XML. حدد الملف، ثم اختر **التالي**.

5. تكوين علامات **النطاق** **والواجبات إذا** لزم الأمر.

6. ضمن **مراجعة + إنشاء**، راجع إعدادات التكوين، ثم اختر **إنشاء**.

## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. في Microsoft Endpoint Configuration Manager، انتقل إلى **الأصول والتوافق** \>  \> Endpoint Protection **Windows Defender Exploit Guard**.

2. حدد **الصفحة الرئيسية** \> **إنشاء نهج حماية استغلال**.

3. حدد اسما ووصفا، وحدد **الحماية من** استغلال، ثم اختر **التالي**.

4. استعرض إلى موقع ملف الحماية من استغلال XML وحدد **التالي**.

5. راجع الإعدادات، ثم اختر **التالي** لإنشاء النهج.

6. بعد إنشاء النهج، حدد **إغلاق**.

## <a name="group-policy"></a>نهج المجموعة

1. على جهاز إدارة نهج المجموعة، افتح وحدة تحكم إدارة [نهج](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731212(v=ws.11)) المجموعة، وانقر بز الماوس الأيمن فوق كائن نهج المجموعة الذي تريد تكوينه وانقر فوق **تحرير**.

2. في محرر **إدارة نهج المجموعة** ، انتقل إلى **تكوين الكمبيوتر** وحدد **القوالب الإدارية**.

3. قم بتوسيع الشجرة Windows **مكونات Windows** \> الحماية من استغلال الحماية من استغلالهم ل **Defender** \>  \> **استخدم مجموعة شائعة من إعدادات الحماية من استغلال.**

4. حدد **تمكين** وا اكتب موقع ملف [XML](/windows/client-management/mdm/policy-csp-exploitguard)، ثم اختر **موافق**.

## <a name="powershell"></a>PowerShell

يمكنك استخدام الفعل PowerShell `Get` أو `Set` مع cmdlet `ProcessMitigation`. سيضيف `Get` استخدام حالة التكوين الحالية لأي عمليات تخفيف تم تمكينها على الجهاز - `-Name` أضف cmdlet و exe للتطبيق لمشاهدة عمليات التخفيف لهذا التطبيق فقط:

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> سوف تظهر عمليات التخفيف على مستوى النظام التي لم يتم تكوينها حالة `NOTSET`.
>
> - بالنسبة لإعدادات مستوى النظام `NOTSET` ، تشير إلى أنه تم تطبيق الإعداد الافتراضي الخاص بتخفيف الأثر هذا.
> - بالنسبة لإعدادات مستوى التطبيق `NOTSET` ، تشير إلى أنه سيتم تطبيق الإعداد على مستوى النظام الخاص بتخفيف الأثر.
> يمكن رؤية الإعداد الافتراضي لكل عملية تخفيف على مستوى النظام في أمن Windows.

يتم `Set` استخدامها لتكوين كل عملية تخفيف في التنسيق التالي:

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

المكان:

- \<Scope\>:
  - `-Name` للإشارة إلى أنه يجب تطبيق عمليات التخفيف على تطبيق معين. حدد التطبيق القابل للتنفيذ بعد هذه العلامة.
    - `-System` للإشارة إلى أنه يجب تطبيق عملية التخفيف على مستوى النظام
- \<Action\>:
  - `-Enable` لتمكين التخفيف
  - `-Disable` لتعطيل التخفيف
- \<Mitigation\>:
  - الأمر cmdlet الخاص بتخفيف المخاطر إلى جانب أي عمليات فرعية (محاطة بالمساحات). يتم فصل كل تخفيف ب فاصلة.

على سبيل المثال، لتمكين تقليل منع تنفيذ البيانات (DEP) باستخدام محاكاة ATL thunk ولعدد قابل للتنفيذ يسمى *testing.exe* في المجلد *C:\Apps\LOB\tests*، ولمنع ذلك القابل للتنفيذ من إنشاء عمليات الطفل، يجب استخدام الأمر التالي:

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> افصل بين كل خيار من خيارات التخفيف باستخدام الفاصلات.

إذا أردت تطبيق DEP على مستوى النظام، يمكنك استخدام الأمر التالي:

```PowerShell
Set-Processmitigation -System -Enable DEP
```

لتعطيل عمليات التخفيف، يمكنك استبدال `-Enable` ب `-Disable`. ومع ذلك، بالنسبة إلى عمليات التخفيف على مستوى التطبيق، يجبر هذا الإجراء على تعطيل التخفيف لهذا التطبيق فقط.

إذا كنت بحاجة إلى استعادة التخفيف مرة أخرى إلى النظام الافتراضي `-Remove` ، يجب تضمين cmdlet أيضا، كما في المثال التالي:

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

يسرد الجدول **التالي عمليات التخفيف** الفردية **(والتدقيقات**، عند توفرها) التي سيتم استخدامها مع `-Enable` معلمات cmdlet `-Disable` أو.<br/><br/>

|نوع التخفيف|تنطبق على|الكلمة الأساسية لمعلمة cmdlet الخاصة بتخفيف|معلمة cmdlet في وضع التدقيق|
|---|---|---|---|
|حماية تدفق عنصر التحكم (CFG)|النظام ومستوى التطبيق|`CFG`, `StrictCFG`, `SuppressExports`|التدقيق غير متوفر|
|منع تنفيذ البيانات (DEP)|النظام ومستوى التطبيق|`DEP`, `EmulateAtlThunks`|التدقيق غير متوفر|
|فرض العشوائية للصور (إلزامي ASLR)|النظام ومستوى التطبيق|`ForceRelocateImages`|التدقيق غير متوفر|
|تخصيصات الذاكرة العشوائية (ASLR من الأسفل لأعلى)|النظام ومستوى التطبيق|`BottomUp`, `HighEntropy`|التدقيق غير متوفر
|التحقق من صحة سلاسل الاستثناءات (SEHOP)|النظام ومستوى التطبيق|`SEHOP`, `SEHOPTelemetry`|التدقيق غير متوفر|
|التحقق من تكامل كومة الذاكرة المؤقتة|النظام ومستوى التطبيق|`TerminateOnError`|التدقيق غير متوفر|
|حماية رمز عشوائي (ACG)|مستوى التطبيق فقط|`DynamicCode`|`AuditDynamicCode`|
|حظر الصور ذات التكامل المنخفض|مستوى التطبيق فقط|`BlockLowLabel`|`AuditImageLoad`|
|حظر الصور البعيدة|مستوى التطبيق فقط|`BlockRemoteImages`|التدقيق غير متوفر|
|حظر الخطوط غير الملوثة|مستوى التطبيق فقط|`DisableNonSystemFonts`|`AuditFont`, `FontAuditOnly`|
|حماية تكامل التعليمات البرمجية|مستوى التطبيق فقط|`BlockNonMicrosoftSigned`, `AllowStoreSigned`|AuditMicrosoftSigned, AuditStoreSigned|
|تعطيل نقاط الملحق|مستوى التطبيق فقط|`ExtensionPoint`|التدقيق غير متوفر|
|تعطيل مكالمات نظام Win32k|مستوى التطبيق فقط|`DisableWin32kSystemCalls`|`AuditSystemCall`|
|عدم السماح للعمليات الخاصة|مستوى التطبيق فقط|`DisallowChildProcessCreation`|`AuditChildProcess`|
|تصفية عنوان التصدير (EAF)|مستوى التطبيق فقط|`EnableExportAddressFilterPlus`، `EnableExportAddressFilter` <a href="#r1" id="t1">\[1\]</a>|التدقيق غير متوفر <a href="#r2" id="t2">\[2\]</a>|
|تصفية عنوان الاستيراد (IAF)|مستوى التطبيق فقط|`EnableImportAddressFilter`|التدقيق غير متوفر <a href="#r2" id="t2">\[2\]</a>|
|محاكاة التنفيذ (SimExec)|مستوى التطبيق فقط|`EnableRopSimExec`|التدقيق غير متوفر <a href="#r2" id="t2">\[2\]</a>|
|التحقق من صحة استدعاء API (CallerCheck)|مستوى التطبيق فقط|`EnableRopCallerCheck`|التدقيق غير متوفر <a href="#r2" id="t2">\[2\]</a>|
|التحقق من صحة استخدام مقبض|مستوى التطبيق فقط|`StrictHandle`|التدقيق غير متوفر|
|التحقق من تكامل تبعية الصورة|مستوى التطبيق فقط|`EnforceModuleDepencySigning`|التدقيق غير متوفر|
|التحقق من تكامل المكدس (StackPivot)|مستوى التطبيق فقط|`EnableRopStackPivot`|التدقيق غير متوفر <a href="#r2" id="t2">\[2\]</a>|

<a href="#t1" id="r1">\[1\]</a>: استخدم التنسيق التالي لتمكين الوحدات النمطية ل EAF ل DLLs لعملية:

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```

<a href="#t2" id="r2">\[2\]</a>: لا تتوفر عملية التدقيق الخاصة بتخفيف هذه المخاطر عبر PowerShell cmdlets.

## <a name="customize-the-notification"></a>تخصيص الإعلام

للحصول على معلومات حول تخصيص الإعلام عند تشغيل قاعدة وحظر تطبيق أو ملف، راجع [أمن Windows.](/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center)

## <a name="see-also"></a>راجع أيضًا

- [تقييم الحماية من استغلال](evaluate-exploit-protection.md)
- [تكوين عمليات التخفيف من مخاطر الحماية من المخاطر وتدقيقها](customize-exploit-protection.md)
- [استيراد تكوينات الحماية من استغلال استغلال وتصديرها ونشرها](import-export-exploit-protection-emet-xml.md)
