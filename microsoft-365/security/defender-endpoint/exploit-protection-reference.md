---
title: مرجع الحماية من استغلال
keywords: عمليات التخفيف والنقاط الضعف والقابلية للتأثر وتخفيفها واستغلالها واستغلالها و emet
description: تفاصيل حول كيفية عمل ميزة الحماية من استغلال في Windows
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.collection: m365-security-compliance
ms.date: 10/19/2021
ms.openlocfilehash: f6889cb12f1a152abe3dbb7d748d52e118547ab3
ms.sourcegitcommit: bdd6ffc6ebe4e6cb212ab22793d9513dae6d798c
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/08/2022
ms.locfileid: "63573316"
---
# <a name="exploit-protection-reference"></a>مرجع الحماية من استغلال

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**ينطبق على:**
- [خطة Microsoft Defender لنقطة النهاية 2](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> هل تريد تجربة Microsoft Defender لنقطة النهاية؟ [التسجيل للحصول على تجربة مجانية.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-enablesiem-abovefoldlink)

توفر الحماية من استغلال التطبيقات حماية متقدمة يمكن لتطبيقها Pro تكنولوجيا المعلومات بعد أن يجمع المطور البرنامج ويوزعه.

تساعدك هذه المقالة على فهم كيفية عمل الحماية من استغلال استغلال، على مستوى النهج وعلى مستوى الحد من المخاطر الفردية، لمساعدتك على إنشاء نهج الحماية من المخاطر وتطبيقها بنجاح.

## <a name="how-mitigations-are-applied"></a>كيفية تطبيق عمليات التخفيف

يتم تطبيق عمليات التخفيف من المخاطر على الحماية من المخاطر لكل تطبيق.

يتم تكوين عمليات التخفيف عبر إدخال سجل لكل برنامج تقوم بتكوين الحماية له. يتم تخزين هذه الإعدادات في إدخال السجل **MitigationOptions** لكل برنامج (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**). وهي تصبح فعالة عند إعادة تشغيل البرنامج وتبقى فعالة حتى تقوم بتغييرها وإعادة تشغيل البرنامج مرة أخرى.

> [!IMPORTANT]
> تسمح لك خيارات تنفيذ ملف الصورة بتحديد اسم ملف أو مسار فقط، وليس رقم إصدار أو بنية أو أي تمييز آخر. يجب توخي الحذر لاستهداف عمليات التخفيف للتطبيقات التي لها أسماء أو مسارات فريدة، وتطبيقها فقط على الأجهزة التي اختبرت فيها هذا الإصدار وهندسة التطبيق.

إذا قمت بتكوين تخفيفات الحماية من المخاطر باستخدام ملف تكوين XML، إما عبر PowerShell أو نهج المجموعة أو MDM، عند معالجة ملف تكوين XML هذا، سيتم تكوين إعدادات التسجيل الفردية لك.

عندما لا يعود النهج الذي يقوم بتوزيع ملف XML مطبقا، لن تتم إزالة الإعدادات التي تم نشرها بواسطة ملف تكوين XML هذا تلقائيا. لإزالة إعدادات الحماية من استغلال، قم بتصدير تكوين XML من جهاز Windows 10 أو Windows 11 جديد، ونشر ملف XML الجديد هذا. بدلا من ذلك، توفر Microsoft ملف XML كجزء من أمن Windows الأساسية لإعادة تعيين إعدادات الحماية من استغلال.

لإعادة تعيين إعدادات الحماية من استغلال باستخدام PowerShell، يمكنك استخدام الأمر التالي:

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
فيما يلي EP-reset.xml توزيعها مع أمن Windows الأساسية:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a>مرجع التخفيف

تتضمن الأقسام التالية تفاصيل حول الحماية التي يوفرها كل تخفيف للحماية من المخاطر، والاعتبارات التوافقية الخاصة بتخفيف المخاطر، وخيارات التكوين المتوفرة.

## <a name="arbitrary-code-guard"></a>حماية رمز عشوائي

### <a name="description"></a>الوصف

يساعد حماية التعليمات البرمجية العشوائية على الحماية من مهاجم ضار يقوم بتحميل التعليمات البرمجية التي من اختياره إلى الذاكرة من خلال ثغرة أمان الذاكرة، كما يساعد على تنفيذ هذه التعليمة البرمجية.

يحمي حماية التعليمات البرمجية العشوائية تطبيقا من تنفيذ التعليمات البرمجية التي تم إنشاؤها ديناميكيا (التعليمات البرمجية التي لم يتم تحميلها، على سبيل المثال، من exe نفسه أو dll). تعمل حماية التعليمات البرمجية العشوائية من خلال منع وضع علامة على الذاكرة على أنها قابلة للتنفيذ. عندما يحاول أحد التطبيقات تخصيص [الذاكرة](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)، نتحقق من علامة الحماية. (يمكن تخصيص الذاكرة باستخدام علامة الحماية للقراءة والكتابة و/أو التنفيذ.) إذا حاول التخصيص تضمين علامة حماية التنفيذ، [](/windows/win32/memory/memory-protection-constants) تفشل عملية تخصيص الذاكرة وترجع رمز خطأ (STATUS_DYNAMIC_CODE_BLOCKED). وبالمثل، إذا حاول أحد التطبيقات تغيير أعلام حماية الذاكرة التي تم تخصيصها بالفعل وتتضمن علامة حماية التنفيذ، فيفشل تغيير [](/windows/win32/memory/memory-protection-constants) الأذونات ويرجع رمز خطأ (STATUS_DYNAMIC_CODE_BLOCKED).[](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect)

من *خلال منع تعيين* علامة التنفيذ، يمكن لمميزة منع تنفيذ البيانات Windows 10 و Windows 11 حماية من رمز الإرشادات الذي يتم تعيينه على تلك الذاكرة وتشغيل هذه التعليمة البرمجية.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يمنع "حماية التعليمات البرمجية العشوائية" تخصيص أي ذاكرة باعتبارها قابلة للتنفيذ، مما يعرض مشكلة توافق مع نهج مثل المحولات البرمجية في الوقت المناسب (JIT). على سبيل المثال، تقوم معظم المستعرضات الحديثة بتجميع JavaScript في التعليمات البرمجية الأصلية لتحسين الأداء. لدعم عملية التخفيف هذه، ستحتاج إلى إعادة ترتيبها لنقل مجموعة JIT خارج العملية المحمية. كما أن التطبيقات الأخرى التي يقوم تصميمها بإنشاء التعليمات البرمجية ديناميكيا من البرامج النصية أو اللغات الوسيطة الأخرى ستكون غير متوافقة بشكل مماثل مع عملية التخفيف هذه.

### <a name="configuration-options"></a>خيارات التكوين

**السماح بالإلغاء الاشتراك في مؤشر** الترابط - يمكنك تكوين التخفيف للسماح لمؤشر ترابط فردي بالخروج من هذه الحماية. يجب أن يكون المطور قد كتب التطبيق مع الوعي بتخفيف هذا الحد، وأن يكون قد دعا [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API مع تعيين معلمة *ThreadInformation* إلى **ThreadDynamicCodePolicy** لكي يتم السماح له بتنفيذ التعليمات البرمجية الديناميكية على مؤشر الترابط هذا.

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-low-integrity-images"></a>حظر الصور ذات التكامل المنخفض

### <a name="description"></a>الوصف

يمنع حظر الصور ذات التكامل المنخفض التطبيق من تحميل الملفات غير المصدقة، وذلك عادة لأنه قد تم تنزيلها من الإنترنت من مستعرض الحماية.

سيحظر هذا التخفيف تحميل الصور إذا كانت الصورة لديها إدخال عنصر تحكم Access (ACE) يمنح حق الوصول إلى عمليات IL منخفضة ولا تملك تسمية ثقة ACE. يتم تنفيذه بواسطة إدارة الذاكرة، مما يمنع تعيين الملف إلى الذاكرة. إذا حاول أحد التطبيقات تعيين صورة ذات تكامل منخفض، سيشغل STATUS_ACCESS_DENIED خطأ. للحصول على تفاصيل حول كيفية عمل مستويات التكامل، راجع [التحكم في التكامل الإلزامي](/windows/win32/secauthz/mandatory-integrity-control).

### <a name="compatibility-considerations"></a>اعتبارات التوافق

حظر الصور ذات التكامل المنخفض ستمنع التطبيق من تحميل الملفات التي تم تنزيلها من الإنترنت. إذا كان سير عمل التطبيق يتطلب تحميل الصور التي يتم تنزيلها، فقد ترغب في التأكد من تنزيلها من عملية ذات ثقة أعلى، أو إعادة ترتيبها صراحة لتطبيق عملية التخفيف هذه.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-remote-images"></a>حظر الصور البعيدة

### <a name="description"></a>الوصف

يساعد حظر الصور البعيدة على منع التطبيق من تحميل الملفات المستضافة على جهاز بعيد، مثل مشاركة UNC. يساعد حظر الصور البعيدة على الحماية من تحميل الثنائيات في الذاكرة على جهاز خارجي يتحكم به المهاجم.

سيحظر هذا التخفيف تحميل الصور إذا تم تحديد الصورة على جهاز بعيد. يتم تنفيذه بواسطة إدارة الذاكرة، مما يمنع تعيين الملف إلى الذاكرة. إذا حاول أحد التطبيقات تعيين ملف بعيد، فإنه سيشغل STATUS_ACCESS_DENIED خطأ.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

حظر الصور البعيدة سيمنع التطبيق من تحميل الصور من الأجهزة البعيدة. إذا كان تطبيقك يحمل الملفات أو المكونات الإضافية من أجهزة بعيدة، فهذا يعني أنه لن يكون متوافقا مع عملية التخفيف هذه.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-untrusted-fonts"></a>حظر الخطوط غير الملوثة

### <a name="description"></a>الوصف

يؤدي حظر الخطوط غير الملوثة إلى تقليل خطر حدوث خطأ في تحليل الخطوط مما يؤدي إلى قدرة المتطفل على تشغيل التعليمات البرمجية على الجهاز. سيتم تحميل الخطوط المثبتة في دليل windows\fonts فقط ل المعالجة بواسطة GDI.

يتم تنفيذ عملية التخفيف هذه ضمن GDI، مما يتحقق من موقع الملف. إذا لم يكن الملف في دليل خطوط النظام، لن يتم تحميل الخط ل تحليله وستفشل هذه المكالمة.

هذا التخفيف بالإضافة إلى التخفيف المضمن المتوفر في Windows 10 1607 واللاحقة، و Windows 11، مما ينقل تحليل الخطوط من النواة وإلى حاوية تطبيق في وضع المستخدم. نتيجة لذلك، تحدث أي استغلال يستند إلى تحليل الخطوط في سياق معزول ومعزول، مما يقلل من المخاطر بشكل ملحوظ. للحصول على تفاصيل حول عملية التخفيف هذه، راجع المدونة "Windows 10" مع عمليات تقليل استغلال اليوم [الصفري](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).

### <a name="compatibility-considerations"></a>اعتبارات التوافق

الاستخدام الأكثر شيوعا للخطوط خارج دليل خطوط النظام هو مع [خطوط الويب](/typography/fonts/font-faq#web). تستخدم المستعرضات الحديثة، Microsoft Edge، DirectWrite بدلا من GDI، ولا تؤثر عليها. ومع ذلك، يمكن أن تؤثر المستعرضات القديمة، مثل Internet Explorer 11 (ووضع IE في نظام Microsoft Edge الجديد)، خاصة مع تطبيقات مثل Office 365، التي تستخدم صورا لخطوط لعرض واجهة المستخدم.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="code-integrity-guard"></a>حماية تكامل التعليمات البرمجية

### <a name="description"></a>الوصف

يضمن "حماية تكامل التعليمات البرمجية" أن كل الثنائيات التي تم تحميلها في عملية ما موقعة رقميا من قبل Microsoft. تتضمن حماية تكامل التعليمات البرمجية [تواقيع WHQL](/windows-hardware/drivers/install/whql-release-signature) (Windows لمختبرات جودة الأجهزة)، مما سيسمح بتشغيل برامج التشغيل المعتمدة من WHQL ضمن العملية.

يتم تنفيذ عملية التخفيف هذه داخل إدارة الذاكرة، مما يمنع تعيين الثنائي إلى الذاكرة. إذا حاولت تحميل ثنائي لم يتم توقيعه من قبل Microsoft، سيرجع "دفتر الذاكرة" الخطأ STATUS_INVALID_IMAGE_HASH. من خلال الحظر على مستوى إدارة الذاكرة، يمنع هذا كلا الثنائيات التي تم تحميلها بواسطة العملية والثنتين التي تم إدخالها في العملية.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

ويحظر هذا التخفيف تحديدا أي ثنائي لم يتم توقيعه من قبل Microsoft. وعلى هذا النحو، لن يكون متوافقا مع معظم برامج  الأطراف الخارجية، إلا إذا تم توزيع هذا البرنامج بواسطة (وتوقيعه رقميا بواسطة) Microsoft Store، وكان خيار السماح بتحميل الصور الموقعة بواسطة Microsoft Store محددا.

### <a name="configuration-options"></a>خيارات التكوين

السماح أيضا بتحميل الصور **الموقعة بواسطة Microsoft Store** - سيتم توقيع التطبيقات التي توزعها Microsoft Store رقميا بواسطة Microsoft Store، وستسمح إضافة هذا التكوين بتحميل الثنائيات التي مرت بعملية مصادقة المتجر بواسطة التطبيق.

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="control-flow-guard-cfg"></a>حماية تدفق عنصر التحكم (CFG)

### <a name="description"></a>الوصف

يعمل عنصر التحكم في حماية تدفق (CFG) على تقليل مخاطر استخدام المهاجمين لنقاط الضعف في تلف الذاكرة من خلال حماية مكالمات الدالات غير المباشرة. على سبيل المثال، قد يستخدم المهاجم ثغرة تجاوز تجاوز المخزن المؤقت ل الكتابة فوق الذاكرة التي تحتوي على مؤشر دالة، واستبدال مؤشر الدالة هذا بم مؤشر إلى التعليمات البرمجية القابلة للتنفيذ من اختياره (والتي ربما تم أيضا إدخالها في البرنامج).

يتم توفير عملية التخفيف هذه عن طريق إدخال فحص آخر في وقت التحويل البرمجي. قبل كل استدعاء دالة غير مباشرة، تضاف إرشادات أخرى تتحقق من أن الهدف هو هدف مكالمة صالح قبل أن يتم استدعاءه. إذا لم يكن الهدف هدف مكالمة صالحا، يتم إنهاء التطبيق. وعلى هذا النحو، فإن التطبيقات التي يتم تجميعها برمجيا باستخدام دعم CFG هي وحدها التي يمكنها الاستفادة من عملية التخفيف هذه.

يتم توفير التحقق من هدف صالح بواسطة Windows النواة. عند تحميل الملفات القابلة للتنفيذ، يتم استخراج بيانات التعريف الخاصة بهدف المكالمة غير المباشرة في وقت التحميل، كما يتم وضع علامة عليها كهدف اتصال صالح. بالإضافة إلى ذلك، عندما يتم تخصيص الذاكرة وتم وضع علامة عليها ك قابلة للتنفيذ (مثل التعليمات البرمجية التي تم إنشاؤها)، يتم أيضا وضع علامة على مواقع الذاكرة هذه كهدف استدعاء صالح، لدعم آليات مثل التحويل البرمجي ل JIT.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

وبما أنه يجب تجميع التطبيقات برمجيا لدعم CFG، فإنها تعلن ضمنيا عن توافقها معها. وبالتالي، يجب أن تعمل معظم التطبيقات مع تمكين عملية التخفيف هذه. نظرا لأنه يتم تجميع هذه الاختبارات برمجيا في الثنائي، فإن التكوين الذي يمكنك تطبيقه هو فقط لتعطيل الاختبارات داخل Windows النواة. بتعبير آخر، يكون التخفيف مفعلا بشكل افتراضي، ولكن يمكنك تكوين نواة Windows لإرجاع "نعم" دائما إذا قمت لاحقا بتحديد وجود مشكلة توافق لم يكتشفها مطور التطبيق في اختباره، والتي يجب أن تكون نادرة.

### <a name="configuration-options"></a>خيارات التكوين

استخدام **CFG الصارم** - في الوضع الصارم، يجب أن يتم تجميع كل الثنائيات التي تم تحميلها في العملية من أجل Control Flow Guard (أو لا توجد أي تعليمات برمجية قابلة للتنفيذ فيها - مثل dlls الموارد) لكي يتم تحميلها.

> [!Note]
> **لا يوجد في "حماية تدفق** عنصر التحكم" أي وضع تدقيق. يتم تجميع الثنائيات مع تمكين عملية التخفيف هذه.

## <a name="data-execution-prevention-dep"></a>منع تنفيذ البيانات (DEP)

### <a name="description"></a>الوصف

يمنع منع تنفيذ البيانات (DEP) الذاكرة التي لم يتم تخصيصها بشكل صريح كمنفذ من التنفيذ. تساعد DEP على الحماية من متطفل يدخل تعليمات برمجية ضارة في العملية، مثل تجاوز المخزن المؤقت، ثم تنفيذ هذه التعليمة البرمجية.

إذا حاولت تعيين يشير الإرشادات إلى عنوان ذاكرة لم يتم وضع علامة عليه كمنفذ، سيلقي المعالج استثناء (انتهاك الحماية العامة)، مما يتسبب في تعطل التطبيق.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يتم تمكين DEP ARM وx64 وx64 ARM 64 بشكل افتراضي، ولا يمكن تعطيلها. بما أنه لن يتم تنفيذ أي تطبيق من قبل بدون DEP، يتم افتراض التوافق.

يتم تمكين DEP لكل الثنائيات x86 (32 بت) بشكل افتراضي، ولكن يمكن تعطيل DEP لكل عملية. قد لا تتوافق بعض التطبيقات القديمة، وعادة ما تكون التطبيقات التي تم تطويرها قبل Windows XP SP2، مع DEP. تقوم هذه التطبيقات عادة بإنشاء التعليمات البرمجية بشكل ديناميكي (على سبيل المثال، تجميع البيانات البرمجية ل JIT) أو إنشاء ارتباط إلى المكتبات القديمة (مثل الإصدارات القديمة من ATL) التي تقوم بإنشاء التعليمات البرمجية ديناميكيا.

### <a name="configuration-options"></a>خيارات التكوين

**تمكين محاكاة ATL Thunk** - يقوم خيار التكوين هذا بتعطيل محاكاة ATL Thunk. تم تصميم ACTIVEX مكتبة القوالب لتكون صغيرة وسريعة قدر الإمكان. من أجل تقليل الحجم الثنائي، قد يستخدم تقنية تسمى *thunking*. عادة ما يتم التفكير في استخدام Thunking للتفاعل بين تطبيقات 32 بت و16 بت، ولكن لا توجد مكونات 16 بت ل ATL هنا. بدلا من ذلك، لتحسين الحجم الثنائي، ستخزن ATL التعليمات البرمجية للجهاز في ذاكرة غير محاذاة للكلمة (إنشاء ثنائي أصغر)، ثم تستدعي هذه التعليمة البرمجية مباشرة. لا تقوم مكونات ATL التي تم تجميعها برمجيا باستخدام Visual Studio 7.1 أو إصدار سابق (Visual Studio 2003) بتخصيص هذه الذاكرة على أنها قابلة للتنفيذ - يحل محاكاة thunk مشكلة التوافق هذه. غالبا ما تحتاج التطبيقات التي لديها نموذج ملحق ثنائي (مثل Internet Explorer 11) إلى تمكين محاكاة ATL Thunk.

## <a name="disable-extension-points"></a>تعطيل نقاط الملحق

### <a name="description"></a>الوصف

يقوم هذا التخفيف بتعطيل نقاط ملحقات مختلفة لتطبيق ما، والتي يمكن استخدامها لإنشاء امتيازات المحتوى الضار أو رفعها.

يشمل ذلك:

- **عناوين DLL ل AppInit** - عند بدء عملية، سيحمل النظام DLL المحدد إلى سياق العملية التي بدأت حديثا قبل استدعاء دالة نقطة الإدخال الخاصة به. [يمكن العثور على تفاصيل حول عناوين DLL AppInit هنا](/windows/win32/winmsg/about-window-classes#application-global-classes). مع تطبيق هذا التخفيف، لن يتم تحميل عناوين DLL AppInit. بدءا من Windows 7، يجب توقيع عناوين DLL AppInit رقميا، [كما هو موضح هنا](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2). بالإضافة إلى ذلك، بدءا من Windows 8، لن يتم تحميل AppInit DLLs إذا تم تمكين SecureBoot، كما [هو موضح هنا](/windows/win32/dlls/secure-boot-and-appinit-dlls).
- **المراسلات الفورية** القديمة - يتيح محرر أسلوب الإدخال (IME) للمستخدم كتابة نص بلغة بها أحرف أكثر مما يمكن تمثيله على لوحة المفاتيح. يمكن لأطراف خارجية إنشاء المراسلات الفورية. قد تحصل IME الضارة على بيانات اعتماد أو معلومات حساسة أخرى من التقاط الإدخال هذا. ستعمل بعض المراسلات الفورية، المشار إليها ب "المراسلات الفورية القديمة"، على تطبيقات سطح المكتب Windows فقط، وليس على تطبيقات UWP. سيمنع هذا التخفيف أيضا تحميل IME القديم إلى التطبيق المحدد Windows سطح المكتب.
- **Windows Event Hooks** - يمكن للتطبيق الاتصال ب [API SetWinEventHook](/windows/win32/api/winuser/nf-winuser-setwineventhook) لتسجيل الاهتمام بحدث ما. يتم تحديد DLL ويمكن إدخاله في العملية. وهذا التخفيف يجبر الخطاف على نشره في عملية التسجيل بدلا من تشغيل العملية من خلال DLL تم إدخاله.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يتم استخدام معظم نقاط الامتداد هذه بشكل غير معتاد نسبيا، لذلك يكون تأثير التوافق عادة صغيرا، خاصة على مستوى التطبيق الفردي. يجب مراعاة ما إذا كان المستخدمون يستخدمون المراسلات الفورية القديمة من جهة خارجية التي لن تعمل مع التطبيق المحمي.

### <a name="configuration-options"></a>خيارات التكوين

لا توجد خيارات تكوين لتخفيف هذا الحد.

> [!Note]
> **لا يوجد وضع تدقيق لتعطيل** نقاط الملحقات.

## <a name="disable-win32k-system-calls"></a>تعطيل مكالمات نظام Win32k

### <a name="description"></a>الوصف

Win32k.sys على سطح هجوم واسع لمهاجم. كمكون وضع النواة، يتم استهدافه بشكل متكرر كمتجه هروب للتطبيقات التي يتم وضع الحماية لها. تمنع عملية التخفيف هذه استدعاءات إلى win32k.sys من خلال منع مؤشر ترابط من تحويل نفسه إلى مؤشر ترابط GUI، الذي يتم منحه بعد ذلك حق الوصول لاستدعاء دالات Win32k. لا يكون مؤشر الترابط هو واجهة GUI عند إنشائه، ولكن يتم تحويله عند أول مكالمة إلى win32k.sys أو من خلال استدعاء واجهة برمجة المستخدم [إلى IsGuiThread](/windows/win32/api/winuser/nf-winuser-isguithread).

### <a name="compatibility-considerations"></a>اعتبارات التوافق

تم تصميم عملية التخفيف هذه للعمليات المخصصة غير الخاصة بواجهة المستخدم. على سبيل المثال، سيستخدم العديد من المستعرضات الحديثة عزل العمليات ودمج عمليات غير واجهة المستخدم. سيتأثير أي تطبيق يعرض واجهة المستخدم (GUI) باستخدام عملية واحدة بتخفيف هذا التأثير.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="do-not-allow-child-processes"></a>عدم السماح للعمليات الخاصة

### <a name="description"></a>الوصف

تمنع عملية التخفيف هذه أحد التطبيقات من إنشاء تطبيقات الأطفال الجديدة. الأسلوب الشائع الذي تستخدمه الأجهزة هو بدء عملية موثوق بها على الجهاز باستخدام إدخال ضار (هجوم "يعيش خارج الأرض")، والذي يتطلب في أغلب الأحيان تشغيل تطبيق آخر على الجهاز. إذا لم تكن هناك أي أسباب شرعية وراء بدء تطبيق ما لعملية طفل، فإن عملية التخفيف هذه ستخفف من متجه الهجوم المحتمل. يتم تطبيق عملية التخفيف من خلال تعيين خاصية على رمز العملية المميز، مما يؤدي إلى حظر إنشاء رمز مميز لعملية الطفل مع رسالة الخطأ STATUS_CHILD_PROCESS_BLOCKED.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

إذا كان تطبيقك يطلق تطبيقات الأطفال لأي سبب من الأسباب، مثل دعم الارتباطات التشعبية التي يتم تشغيل مستعرض أو مستعرض خارجي أو تشغيل أدوات مساعدة أخرى على الكمبيوتر، سيتم تقسيم هذه الوظيفة مع تطبيق هذا التخفيف.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="export-address-filtering"></a>تصدير تصفية العنوان

### <a name="description"></a>الوصف

تخفف تصفية عنوان التصدير (EAF) من مخاطر التعليمات البرمجية الضارة عند النظر إلى جدول عنوان التصدير لكل الوحدات النمطية التي تم تحميلها للعثور على الوحدات النمطية التي تحتوي على واجهات برمجة التطبيقات المفيدة للهجوم. هذا أسلوب شائع تستخدمه shellcode. من أجل الحد من مخاطر مثل هذا الهجوم، يحمي هذا التخفيف ثلاث وحدات نموذجية شائعة الهجمة:

- ntdll.dll
- kernelbase.dll
- kernel32.dll

يحمي التخفيف صفحة الذاكرة في [دليل التصدير الذي يشير إلى [جدول عنوان التصدير](/windows/win32/debug/pe-format#export-address-table). سيتم تطبيق [PAGE_GUARD الذاكرة هذه](/windows/win32/memory/creating-guard-pages) عليها. عندما يحاول أحد الأشخاص الوصول إلى هذه الذاكرة، ستولد STATUS_GUARD_PAGE_VIOLATION. تعالج عملية التخفيف هذا الاستثناء، وإذا لم تجتاز تعليمات الوصول عملية التحقق من الصحة، سيتم إنهاء العملية.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

عملية التخفيف هذه هي مشكلة أساسية بالنسبة لتطبيقات مثل مصححات الأخطاء أو تطبيقات الحماية أو التطبيقات التي تستخدم DRM أو التطبيقات التي تنفذ تقنية مكافحة تصحيح الأخطاء.

### <a name="configuration-options"></a>خيارات التكوين

**التحقق من صحة الوصول** إلى الوحدات النمطية التي يتم إساءة استخدامها بشكل شائع من قبل المستغلين - يضيف هذا الخيار، المعروف أيضا باسم EAF+، حماية الوحدات النمطية الأخرى التي تتعرض للهجوم الشائع:

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

بالإضافة إلى ذلك، من خلال تمكين EAF+، يضيف هذا التخفيف حماية PAGE_GUARD إلى الصفحة التي تحتوي على رأس الصفحة "MZ"، أول بايت من رأس [DOS](/windows/win32/debug/pe-format#ms-dos-stub-image-only) في ملف PE، وهو جانب آخر من محتوى الذاكرة المعروف الذي يمكن أن تبحث عنه shellcode لتحديد الوحدات النمطية التي من المحتمل أن تكون ذات أهمية في الذاكرة.

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="force-randomization-for-images-mandatory-aslr"></a>فرض العشوائية للصور (إلزامي ASLR)

### <a name="description"></a>الوصف

تخفف العشوائية في تخطيط مساحة العنوان (ASLR) من مخاطر مهاجم باستخدام معرفته لتخطيط ذاكرة النظام من أجل تنفيذ التعليمات البرمجية الموجودة بالفعل في ذاكرة العملية والمعلمة مسبقا كمنفذة. يمكن أن يخفف ذلك من خطر مهاجم يستخدم أساليب مثل هجمات العودة إلى libc، حيث يقوم برنامج مكافحة المخاطر بتعيين السياق ثم تعديل عنوان الإرجاع لتنفيذ التعليمات البرمجية الموجودة مع السياق الذي يتلاءم مع الغرض من برنامج العمل.

فرض ASLR الإلزامي على إعادة قاعدة كل عناوين DL في العملية. يمكن للمطور تمكين ASLR باستخدام [الخيار /DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization) linker، ولتخفيف التأثير نفسه هذا.

عندما يتم تعيين إدارة الذاكرة في الصورة إلى العملية، سيعيد ASLR الإلزامية بشكل إجباري تعيين عناوين DLLs و EXEs التي لم يتم الاشتراك فيها إلى ASLR. ومع ذلك، تجدر الإشارة إلى أن إعادة التكباس هذه لا يوجد بها أي إدخال، وبالتالي يمكن وضعها في موقع يمكن التنبؤ به في الذاكرة. للحصول على موقع ثنائيات ذات قاعدة عشوائية، يجب إقران هذا التخفيف مع تخصيصات الذاكرة [العشوائية (ASLR من الأسفل لأعلى).](#randomize-memory-allocations-bottom-up-aslr)

### <a name="compatibility-considerations"></a>اعتبارات التوافق

عادة ما يكون تأثير التوافق هذا ل ASLR مقيدا للتطبيقات القديمة التي تم إنشاؤها باستخدام المحولات البرمجية التي كانت تقوم بافتراضات حول العنوان الأساسي لملف ثنائي أو تم تجريد معلومات أساسية من برنامج نقل البيانات. قد يؤدي ذلك إلى أخطاء لا يمكن التنبؤ بها بينما يحاول تدفق التنفيذ الانتقال إلى الموقع المتوقع بدلا من الموقع الفعلي في الذاكرة.

### <a name="configuration-options"></a>خيارات التكوين

**لا تسمح بالصور التي تم تجريدها** - يمنع هذا الخيار تحميل الصور التي تم تجريدها من معلومات نقل البيانات. يحتوي تنسيق ملف WINDOWS PE على عناوين مطلقة، كما يقوم المحول البرمجي بإنشاء [جدول انتقال أساسي يمكن للمحمل استخدامه للعثور على كل مراجع الذاكرة النسبية ومقابلتها، بحيث يمكن تحديثها إذا لم يتم تحميل الثنائي في عنوانه الأساسي المفضل. تقوم بعض التطبيقات القديمة بجرد هذه المعلومات في إنشاءات الإنتاج، وبالتالي لا يمكن إعادة إنشاء هذه الثنائيات. يمنع هذا التخفيف من تحميل مثل هذه الثنائيات (بدلا من السماح لها بالتحميل على عنوانها الأساسي المفضل).

> [!Note]
> **فرض العشوائية للصور (إلزامي ASLR)** لا يوجد لديه وضع التدقيق.

## <a name="import-address-filtering-iaf"></a>تصفية عنوان الاستيراد (IAF)

### <a name="description"></a>الوصف

تساعد عملية تقليل تصفية عنوان الاستيراد (IAF) على تقليل مخاطر تغيير تدفق عنصر التحكم في أحد التطبيقات عن طريق تعديل جدول عنوان الاستيراد (IAT) لإعادة التوجيه إلى التعليمات البرمجية العشوائية لاختيار المهاجم عند استدعاء هذه الدالة. يمكن للمهاجم استخدام هذه الطريقة للتحكم في عمليات الضبط، أو لتقاطع المكالمات إلى واجهات برمجة التطبيقات الحساسة وفحصها وحظرها.

ستطبق على صفحات الذاكرة لكل واجهات برمجة التطبيقات [المحمية](/windows/win32/memory/creating-guard-pages) PAGE_GUARD الحماية. عندما يحاول أحد الأشخاص الوصول إلى هذه الذاكرة، ستولد STATUS_GUARD_PAGE_VIOLATION. تعالج عملية التخفيف هذا الاستثناء، وإذا لم تجتاز تعليمات الوصول عملية التحقق من الصحة، سيتم إنهاء العملية.

يحمي هذا التخفيف واجهات برمجة التطبيقات Windows التالية:

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a>اعتبارات التوافق

قد يتم الكشف عن التطبيقات الشرعية التي تقوم بتنفيذ تقاطع API من خلال عملية التخفيف هذه وتتسبب في تعطل بعض التطبيقات. وتشمل الأمثلة برامج الأمان وتوافق التطبيقات.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="randomize-memory-allocations-bottom-up-aslr"></a>تخصيصات الذاكرة العشوائية (ASLR من الأسفل لأعلى)

### <a name="description"></a>الوصف

تضيف تخصيصات الذاكرة العشوائية (ASLR من الأسفل إلى الأعلى) الإدخال إلى عمليات النقل، بحيث يكون موقعها عشوائيا وبالتالي أقل توقعا. يتطلب هذا التخفيف أن يكون ASLR إلزاميا حيز التنفيذ.

يضع حجم مساحة العنوان بالحجم 32 بت قيودا عملية على الإدخال الذي يمكن إضافته، وبالتالي فإن تطبيقات 64 بت تجعل من الصعب على المتطفل تخمين موقع في الذاكرة.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

تتوافق معظم التطبيقات المتوافقة مع ASLR الإلزامية (إعادة التوسيع) أيضا مع الإدخالات الأخرى ل ASLR من الأسفل إلى الأعلى. قد يكون لدى بعض التطبيقات مشاكل في اقتناء الإشارة إذا كانت ت حفظها في متغيرات 32 بت (تتوقع عنوانا أساس أقل من 4 غيغابايت)، وبالتالي ستكون غير متوافقة مع خيار الإدخال العالي (الذي يمكن تعطيله).

### <a name="configuration-options"></a>خيارات التكوين

عدم استخدام الإدخال **العالي - يقوم** هذا الخيار بتعطيل استخدام ASLR عالي الإدخال، الذي يضيف 24 بت من الإدخال (1 تيروبايت من التباين) إلى التخصيص من الأسفل إلى الأعلى للتطبيقات 64 بت.

> [!Note]
> **لا يوجد وضع تدقيق لتخصيصات الذاكرة العشوائية (ASLR** من الأسفل إلى الأعلى).

## <a name="simulate-execution-simexec"></a>محاكاة التنفيذ (SimExec)

### <a name="description"></a>الوصف

إن محاكاة التنفيذ (SimExec) هي عملية تخفيف للتطبيقات بال 32 بت فقط. يساعد ذلك على التحقق من أن المكالمات إلى واجهات برمجة التطبيقات الحساسة ستعود إلى وظائف المتصل المشروعة. يقوم بذلك من خلال اعتراض المكالمات إلى واجهات برمجة التطبيقات الحساسة، ثم محاكاة تنفيذ واجهات برمجة التطبيقات هذه من خلال السير عبر إرشادات لغة التجميع المرمزة التي تبحث عن إرشادات RET، التي يجب أن تعود إلى المتصل. ثم تقوم بفحص هذه الدالة وتسير للخلف في الذاكرة للعثور على تعليمات CALL السابقة لتحديد ما إذا كانت الدالة وتعليمات CALL متطابقة، وأن RET لم يتم اعتراضها.

واجهات برمجة التطبيقات التي تم اعتراضها بواسطة عملية التخفيف هذه هي:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

إذا تم اكتشاف أداة ذكية ل ROP، يتم إنهاء العملية.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يمكن للتطبيقات التي تقوم بتنفيذ تقاطع API، خاصة برامج الأمان، أن تسبب مشاكل التوافق مع عملية التخفيف هذه.

لا يتوافق هذا التخفيف مع تخفيف حماية التعليمات البرمجية العشوائية.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-api-invocation-callercheck"></a>التحقق من صحة استدعاء API (CallerCheck)

### <a name="description"></a>الوصف

التحقق من صحة استدعاء API (CallerCheck) هو تقليل لتقنيات البرمجة الموجهة للإرجاع (ROP) التي تتحقق من صحة استدعاء واجهات برمجة التطبيقات الحساسة من المتصل الصالح. يفحص هذا التخفيف عنوان الإرجاع الذي تم تمريره، ثم يفك تجميعه إلى الخلف بشكل أسلوبي للعثور على مكالمة أعلى عنوان الإرجاع لتحديد ما إذا كان هدف المكالمة يتطابق مع المعلمة التي تم تمريرها إلى الدالة.

واجهات برمجة التطبيقات التي تم اعتراضها بواسطة عملية التخفيف هذه هي:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

إذا تم اكتشاف أداة ذكية ل ROP، يتم إنهاء العملية.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يمكن للتطبيقات التي تقوم بتنفيذ تقاطع API، خاصة برامج الأمان، أن تسبب مشاكل التوافق مع عملية التخفيف هذه.

لا يتوافق هذا التخفيف مع تخفيف حماية التعليمات البرمجية العشوائية.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-exception-chains-sehop"></a>التحقق من صحة سلاسل الاستثناءات (SEHOP)

### <a name="description"></a>الوصف

إن التحقق من صحة سلاسل الاستثناءات (SEHOP) هو تقليل من أسلوب الكتابة فوق أسلوب استغلال معالج الاستثناءات الهيكلية ( *SEH* ). [معالجة الاستثناءات المنظمة](/windows/win32/debug/structured-exception-handling) هي العملية التي يمكن للتطبيق من خلالها طلب معالجة استثناء معين. يتم تسلسل معالجات الاستثناء معا، بحيث إذا اختار معالج استثناء واحد عدم معالجة استثناء معين، يمكن تمريره إلى معالج الاستثناء التالي في السلسلة حتى يقرر أحد معالجي الاستثناء معالجتها. نظرا لأن قائمة معالج ديناميكية، يتم تخزينها على المكدس. يمكن للمهاجم استخدام ثغرة أمنية تجاوز المكدس ثم الكتابة فوق معالج الاستثناء باستخدام مؤشر إلى التعليمات البرمجية لاختيار المهاجم.

تعتمد عملية التخفيف هذه على تصميم SEH، حيث يحتوي كل إدخال SEH على مؤشر إلى معالج الاستثناء، بالإضافة إلى مؤشر إلى معالج التالي في سلسلة الاستثناءات. يتم استدعاء هذا التخفيف بواسطة مرسل الاستثناء، الذي يتحقق من صحة سلسلة SEH عند استدعاء استثناء. وتتحقق من ما يلي:

- تقع كل سجلات سلسلة الاستثناءات ضمن حدود المكدس
- محاذاة كل سجلات الاستثناءات
- لا تشير أي مؤشر معالج استثناء إلى المكدس
- لا توجد أي نقاط للخلف
- تنتهي سلسلة الاستثناءات بمعالج استثناء نهائي معروف

إذا فشلت عمليات التحقق من الصحة هذه، يتم إجهاض معالجة الاستثناءات، ولن يتم التعامل مع الاستثناء.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

مشاكل التوافق مع SEHOP نادرة نسبيا. من الشائع أن يعتمد التطبيق على إفساد سلسلة الاستثناءات. ومع ذلك، فإن بعض التطبيقات متأثّر بالتغييرات الدقيقة في التوقيت، والتي قد تظهر كشرط سباق يكشف عن وجود خطأ في سلسلة الرسائل المتعددة في التطبيق.

### <a name="configuration-options"></a>خيارات التكوين

> [!Note]
> **لا يوجد وضع تدقيق للتحقق من صحة سلاسل الاستثناءات (SEHOP** ).

## <a name="validate-handle-usage"></a>التحقق من صحة استخدام مقبض

### <a name="description"></a>الوصف

*التحقق من صحة استخدام مقبض* هو تقليل يساعد على الحماية من مهاجم باستخدام مقبض موجود للوصول إلى كائن محمي. [المقبض](/windows/win32/sysinfo/handles-and-objects) هو مرجع لكائن محمي. إذا كانت تعليمات التطبيق البرمجية تشير إلى مقبض غير صالح، فقد يشير ذلك إلى أن شخص ما يحاول استخدام مقبض سجله مسبقا (ولكن حساب مرجع التطبيق الذي لن يكون على علم به). إذا حاول التطبيق استخدام كائن غير صالح، بدلا من إرجاع القيمة null ببساطة، سيطرح التطبيق استثناء (STATUS_INVALID_HANDLE).

يتم تطبيق عملية التخفيف هذه تلقائيا على Windows Store.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

من المحتمل أن تكون التطبيقات التي لم تكن تتعقب مراجع مقبض التعقب بدقة والتي لم تكن تلتف هذه العمليات في معالجات الاستثناءات، متأثية بتخفيف التأثير هذا.

### <a name="configuration-options"></a>خيارات التكوين

> [!Note]
> **لا يوجد في وضع التدقيق التحقق من صحة استخدام** مقبض التحقق من صحته.

## <a name="validate-heap-integrity"></a>التحقق من تكامل كومة الذاكرة المؤقتة

### <a name="description"></a>الوصف

يزيد *الحد من* تكامل تكامل كومة الذاكرة المؤقتة مستوى الحماية لتخفيف حده في Windows، عن طريق التسبب في إنهاء التطبيق إذا تم الكشف عن تلف كومة. تتضمن عمليات التخفيف ما يلي:

- منع تحرير مقبض HEAP
- إجراء عملية تحقق أخرى من الصحة على رؤوس الكتلة الموسعة لتخصيصات كهاب
- التحقق من أنه لم يتم وضع علامة على تخصيصات كومة الذاكرة المؤقتة على أنها في وضع الاستخدام
- إضافة صفحات حماية إلى التخصيصات الكبيرة وشرائح الكهاب المؤقت والصفحات الفرعية التي فوق الحد الأدنى للحجم

### <a name="compatibility-considerations"></a>اعتبارات التوافق

يتم تطبيق عملية التخفيف هذه بشكل افتراضي على تطبيقات 64 بت وتطبيقات 32 بت التي تستهدف Windows Vista أو أي وقت لاحق. التطبيقات القديمة من Windows XP أو أي وقت سابق هي الأكثر عرضة للمخاطر، على الرغم من أن مشاكل التوافق نادرا.

### <a name="configuration-options"></a>خيارات التكوين

> [!Note]
> **لا يوجد وضع تدقيق للتحقق من تكامل** كومة الذاكرة المؤقتة.

## <a name="validate-image-dependency-integrity"></a>التحقق من تكامل تبعية الصورة

### <a name="description"></a>الوصف

يساعد *تقليل تبعية* التحقق من صحة الصورة على الحماية من الهجمات التي تحاول استبدال التعليمات البرمجية ب dlls المرتبطة بشكل ثابت Windows الثنائيات. تسيء تقنية زرع DLL إلى آلية البحث في المحمل لحقن التعليمات البرمجية الضارة، والتي يمكن استخدامها لتشغيل التعليمات البرمجية الضارة في سياق مرتفع. عند تحميل المحمل ل Windows ثنائي موقع، ثم تحميل أي dlls يعتمد عليها الثنائي، سيتم التحقق من هذه الثنائيات للتأكد من أنها أيضا موقعة رقميا ككاتب Windows ثنائي. إذا فشلت عملية التحقق من التوقيع، لن يتم تحميل dll، وستلقي استثناء، مع إرجاع حالة STATUS_INVALID_IMAGE_HASH.

### <a name="compatibility-considerations"></a>اعتبارات التوافق

مشاكل التوافق شائعة. سيتم التأثير على التطبيقات التي تعتمد على استبدال Windows الثنائيات بالإصدارات الخاصة المحلية، وهناك أيضا خطر صغير للكشف عن أخطاء التوقيت الدقيقة في التطبيقات متعددة مؤشرات الترابط.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-stack-integrity-stackpivot"></a>التحقق من تكامل المكدس (StackPivot)

### <a name="description"></a>الوصف

يساعد تقليل تكامل المكدس *(StackPivot)* على الحماية من هجوم مكدس Pivot، وهو هجوم ROP حيث ينشئ مهاجم مكدسا زائفا في ذاكرة الكومة، ثم يخدع التطبيق للعودة إلى المكدس الزائف الذي يتحكم في تدفق التنفيذ.

ويتقاطع هذا Windows واجهات برمجة التطبيقات، ويفحص قيمة منقطة المكدس. إذا لم يقع عنوان المكدس بين أسفل المكدس وأعلىه، يتم تسجيل حدث، وإذا لم يكن في وضع التدقيق، سيتم إنهاء العملية.

واجهات برمجة التطبيقات التي تم اعتراضها بواسطة عملية التخفيف هذه هي:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a>اعتبارات التوافق

سيتم التأثير على التطبيقات التي تستخدم مكدسات زائفة، وهناك أيضا خطر صغير للكشف عن أخطاء التوقيت الدقيقة في التطبيقات متعددة مؤشرات الترابط.
يمكن للتطبيقات التي تقوم بتنفيذ تقاطع API، خاصة برامج الأمان، أن تسبب مشاكل التوافق مع عملية التخفيف هذه.

لا يتوافق هذا التخفيف مع تخفيف حماية التعليمات البرمجية العشوائية.

### <a name="configuration-options"></a>خيارات التكوين

**التدقيق فقط** - يمكنك تمكين عملية التخفيف هذه في وضع التدقيق من أجل قياس تأثير التوافق المحتمل على أحد التطبيقات. يمكن عندئذ عرض أحداث التدقيق إما في عارض الأحداث أو باستخدام "البحث المتقدم" في [Microsoft Defender لنقطة النهاية](/microsoft-365/security/defender/advanced-hunting-overview).
