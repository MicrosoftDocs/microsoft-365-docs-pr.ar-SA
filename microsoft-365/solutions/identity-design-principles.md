---
title: للهوية وما بعدها - وجهة نظر مهندس معماري واحد
description: تعرف على أفضل استراتيجيات التصميم لتصميم Microsoft Enterprise من أليكس Shteynberg، المهندس المعماري الأساسي التقني في Microsoft.
ms.author: bcarter
author: brendacarter
manager: bcarter
ms.audience: ITPro
ms.topic: article
ms.prod: microsoft-365-enterprise
ms.localizationpriority: medium
ms.collection:
- M365-identity-device-management
- M365-security-compliance
- M365solutions
ms.custom: seo-marvel-jun2020
f1.keywords: NOCSH
ms.openlocfilehash: 065e9a124deb7c064b31666d96a11f076d65abdd
ms.sourcegitcommit: 52e2a67a1badd7faaabbcf99c65f464e23a47805
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/14/2022
ms.locfileid: "66060950"
---
# <a name="to-identity-and-beyondone-architects-viewpoint"></a>للهوية وما بعدها - وجهة نظر مهندس معماري واحد

في هذه المقالة، يناقش [أليكس Shteynberg](https://www.linkedin.com/in/alex-shteynberg/)، المهندس المعماري التقني الرئيسي في Microsoft، أهم استراتيجيات التصميم لمؤسسات المؤسسات التي تعتمد Microsoft 365 وخدمات Microsoft السحابية الأخرى.

## <a name="about-the-author"></a>حول الكاتب

![صورة أليكس Shteynberg.](../media/solutions-architecture-center/identity-and-beyond-alex-shteynberg.jpg)

أنا مهندس تقني رئيسي في [مركز التكنولوجيا](https://www.microsoft.com/mtc?rtc=1) في نيويورك. أعمل في الغالب مع عملاء كبيرين ومتطلبات معقدة. تستند وجهة نظري وآراءي إلى هذه التفاعلات وقد لا تنطبق على كل موقف. ومع ذلك، في تجربتي، إذا تمكنا من مساعدة العملاء في مواجهة التحديات الأكثر تعقيدا، يمكننا مساعدة جميع العملاء.

أعمل عادة مع أكثر من 100 عميل كل عام. في حين أن كل مؤسسة لها خصائص فريدة، فمن المثير للاهتمام أن ترى الاتجاهات والقواسم المشتركة. على سبيل المثال، أحد الاتجاهات هو الاهتمام عبر الصناعة للعديد من العملاء. في النهاية، يمكن أن يكون فرع البنك أيضا المقهى ومركز المجتمع.

في دوري، أركز على مساعدة العملاء على الوصول إلى أفضل حل تقني لمعالجة مجموعة فريدة من أهداف العمل الخاصة بهم. رسميا، أركز على الهوية والأمان والخصوصية والتوافق. أحب حقيقة أن هذا يلمس كل ما نقوم به. فهو يتيح لي فرصة المشاركة في معظم المشاريع. هذا النشاط يبقيني مشغولا ويستمتع بهذا الدور.

أنا أقيم في مدينة نيويورك (الأفضل!) وأستمتع حقا بتنوع الثقافة والطعام والأشخاص (وليس نسبة استخدام الشبكة). أحب السفر عندما يمكنني وأتمنى أن أرى معظم العالم في مدة البقاء. أقوم حاليا بالبحث في رحلة إلى أفريقيا للتعرف على الحياة البرية.

## <a name="guiding-principles"></a>المبادئ التوجيهية

- **غالبا ما يكون الأمر البسيط أفضل**: يمكنك القيام (تقريبا) بأي شيء باستخدام التكنولوجيا، ولكنه لا يعني أنه يجب عليك القيام بذلك. خاصة في مساحة الأمان، العديد من حلول الهندسة الفوقية للعملاء. أعجبني [هذا الفيديو](https://www.youtube.com/watch?v=SOQgABDSYZE) من مؤتمر Google Stripe لإبراز هذه النقطة.
- **الأشخاص، العملية، التكنولوجيا**: [تصميم للأشخاص](https://en.wikipedia.org/wiki/Human-centered_design) لتحسين العملية، وليس التقنية أولا. لا توجد حلول "مثالية". نحن بحاجة إلى تحقيق التوازن بين عوامل الخطر المختلفة وستكون القرارات مختلفة لكل شركة. يصمم عدد كبير جدا من العملاء نهجا يتجنبه المستخدمون لاحقا.
- **ركز على 'لماذا' أولا و'كيف' لاحقا**: كن الطفل البالغ من العمر 7 سنوات مزعجا مع مليون سؤال. لا يمكننا الوصول إلى الإجابة الصحيحة إذا لم نتمكن من معرفة الأسئلة الصحيحة التي يجب طرحها. يقوم الكثير من العملاء بافتراضات حول كيفية عمل الأشياء بدلا من تحديد مشكلة الأعمال. هناك دائما مسارات متعددة يمكن اتخاذها.
- **ذيل طويل من أفضل الممارسات السابقة**: التعرف على أن أفضل الممارسات تتغير بسرعة خفيفة. إذا نظرت إلى Azure AD منذ أكثر من ثلاثة أشهر، فمن المحتمل أن تكون قديما. كل شيء هنا عرضة للتغيير بعد النشر. قد لا يكون الخيار "الأفضل" اليوم هو نفس الأشهر الستة من الآن.

## <a name="baseline-concepts"></a>مفاهيم الأساس

لا تتخطى هذا المقطع. غالبا ما أرى أنه يجب علي العودة إلى هذه المقالات، حتى بالنسبة للعملاء الذين كانوا يستخدمون خدمات السحابة لسنوات.
للأسف، اللغة ليست أداة دقيقة. غالبا ما نستخدم الكلمة نفسها لتعني مفاهيم مختلفة أو كلمات مختلفة لتعني المفهوم نفسه. غالبا ما أستخدم هذا الرسم التخطيطي أدناه لإنشاء بعض المصطلحات الأساسية و"نموذج التسلسل الهرمي".
<br><br>

![رسم توضيحي للمستأجر والاشتراك والخدمة والبيانات.](../media/solutions-architecture-center/Identity-and-beyond-tenant-level.png)

<br>

عندما تتعلم السباحة، من الأفضل البدء في التجمع وليس في وسط المحيط. لا أحاول أن أكون دقيقا تقنيا مع هذا الرسم التخطيطي. إنه نموذج لمناقشة بعض المفاهيم الأساسية.

في الرسم التخطيطي:

- Tenant = مثيل Azure AD. إنه في "أعلى" التسلسل الهرمي، أو المستوى 1 في الرسم التخطيطي. يمكننا اعتبار هذا المستوى هو "[الحد](/azure/active-directory/users-groups-roles/licensing-directory-independence)" حيث يحدث كل شيء آخر ([Azure AD B2B](/azure/active-directory/b2b/what-is-b2b) جانبا). جميع خدمات Microsoft السحابية للمؤسسات هي جزء من أحد هذه المستأجرين. خدمات المستهلكين منفصلة. يظهر "المستأجر" في الوثائق كمستأجر Office 365، ومستأجر Azure، ومستأجر WVD، وما إلى ذلك. غالبا ما أجد هذه الاختلافات تسبب ارتباكا للعملاء.
- الخدمات/الاشتراكات، المستوى 2 في الرسم التخطيطي، تنتمي إلى مستأجر واحد ومستأجر واحد فقط. معظم خدمات SaaS هي 1:1 ولا يمكن نقلها دون الترحيل. يختلف Azure، يمكنك [نقل الفوترة](/azure/cost-management-billing/manage/billing-subscription-transfer) و/أو [اشتراك](/azure/active-directory/fundamentals/active-directory-how-subscriptions-associated-directory) إلى مستأجر آخر. هناك العديد من العملاء الذين يحتاجون إلى نقل اشتراكات Azure. هذا السيناريو له آثار مختلفة. لا يتم نقل الكائنات الموجودة خارج الاشتراك. على سبيل المثال، التحكم في الوصول استنادا إلى الدور (Azure RBAC)، Azure AD الكائنات (المجموعات والتطبيقات والنهج وما إلى ذلك)، وبعض الخدمات (Azure Key Vault، وTata Bricks، وما إلى ذلك). لا تقم بترحيل الخدمات دون الحاجة إلى أعمال جيدة. تتم مشاركة بعض البرامج النصية التي يمكن أن تكون مفيدة لل ترحيل [على GitHub](https://github.com/lwajswaj/azure-tenant-migration).
- عادة ما يكون لخدمة معينة نوع من حد "المستوى الفرعي"، أو المستوى 3 (L3). هذا الحد مفيد لفهمه للفصل بين الأمان والسياسات والحوكمة وما إلى ذلك. لسوء الحظ، لا يوجد اسم موحد أعرف به. بعض الأمثلة على أسماء L3 هي: اشتراك Azure = [مورد](/azure/azure-resource-manager/management/manage-resources-portal)؛ Dynamics 365 CE = [instance](/dynamics365/admin/new-instance-management); Power BI = [مساحة العمل](/power-bi/service-create-the-new-workspaces)؛ Power Apps = [البيئة](/power-platform/admin/environments-overview)؛ وهكذا.
- المستوى 4 هو المكان الذي تتواجد فيه البيانات الفعلية. تعد "وحدة البيانات" هذه مقالة معقدة. تستخدم بعض الخدمات Azure AD ل RBAC، والبعض الآخر لا يستخدمها. سأناقشها قليلا عندما نصل إلى مقالات التفويض.

بعض المفاهيم الإضافية التي أعثر عليها العديد من العملاء (وموظفي Microsoft) مربكة أو لديهم أسئلة حول تضمين المشكلات التالية:

- يمكن لأي شخص [إنشاء](/azure/active-directory/fundamentals/active-directory-access-create-new-tenant) العديد من المستأجرين [دون أي تكلفة](https://azure.microsoft.com/pricing/details/active-directory/). لا تحتاج إلى خدمة تم توفيرها داخلها. لدي العشرات. يعد كل اسم مستأجر فريدا في خدمة السحابة العالمية من Microsoft (بمعنى آخر، لا يمكن أن يكون لدى مستأجرين نفس الاسم). جميعها بتنسيق TenantName.onmicrosoft.com. هناك أيضا عمليات تقوم بإنشاء المستأجرين تلقائيا ([المستأجرون غير المدارين](/azure/active-directory/users-groups-roles/directory-self-service-signup)). على سبيل المثال، قد يحدث ذلك عندما يقوم مستخدم بالتسجيل للحصول على خدمة مؤسسة باستخدام مجال بريد إلكتروني غير موجود في أي مستأجر آخر.
- في المستأجر المدار، يمكن تسجيل العديد من [مجالات DNS](/azure/active-directory/fundamentals/add-custom-domain) فيه. لا يغير هذا اسم المستأجر الأصلي. لا توجد حاليا طريقة سهلة لإعادة تسمية مستأجر (غير الترحيل). على الرغم من أن اسم المستأجر ليس مهما تقنيا هذه الأيام، فقد يجد البعض أن هذا الأمر مقيد.
- يجب حجز اسم مستأجر لمؤسستك حتى إذا لم تكن تخطط بعد لنشر أي خدمات. وإلا، يمكن لشخص ما أخذه منك وليس هناك عملية بسيطة لاستعادتها (نفس المشكلة مثل أسماء DNS). أسمع بهذه الطريقة كثيرا من العملاء. ما يجب أن يكون عليه اسم المستأجر الخاص بك هو مقالة مناقشة أيضا.
- إذا كنت تملك مساحة (مساحات) اسم DNS، يجب إضافة كل هذه إلى المستأجر (المستأجرين). وإلا، يمكن لأحدهم إنشاء [مستأجر غير مدار](/azure/active-directory/users-groups-roles/directory-self-service-signup) بهذا الاسم، ما يؤدي بعد ذلك إلى تعطيل [إدارته](/azure/active-directory/users-groups-roles/domains-admin-takeover).
- يمكن أن تنتمي مساحة اسم DNS (مثل contoso.com) إلى مستأجر واحد ومستأجر واحد فقط. وهذا له آثار على سيناريوهات مختلفة (على سبيل المثال، مشاركة مجال بريد إلكتروني أثناء الدمج أو الاستحواذ، وما إلى ذلك). هناك طريقة لتسجيل فرعي DNS (مثل div.contoso.com) في مستأجر مختلف، ولكن يجب تجنب ذلك. من خلال تسجيل اسم مجال من المستوى الأعلى، يفترض أن تنتمي جميع المجالات الفرعية إلى نفس المستأجر. في سيناريوهات متعددة المستأجرين (انظر أدناه) نوصي عادة باستخدام اسم مجال آخر من المستوى الأعلى (مثل contoso.ch أو ch-contoso.com).
- روبوت Who يجب أن "يمتلك" مستأجرا؟ غالبا ما أرى العملاء الذين لا يعرفون من يملك المستأجر الخاص بهم حاليا. يعد هذا النقص في المعرفة علامة حمراء كبيرة. اتصل بدعم Microsoft في أقرب وقت ممكن. تماما كما هو الحال عند تعيين مالك الخدمة (غالبا ما يكون مسؤول Exchange) لإدارة مستأجر. سيحتوي المستأجر على جميع الخدمات التي قد تحتاجها في المستقبل. يجب أن يكون مالك المستأجر مجموعة يمكنها اتخاذ قرار لتمكين جميع الخدمات السحابية في المؤسسة. هناك مشكلة أخرى عندما يطلب من مجموعة مالكي المستأجرين إدارة جميع الخدمات. هذا لا يتوسع للمؤسسات الكبيرة.
- لا يوجد مفهوم للمستأجر الفرعي/الفائق. لسبب ما، تستمر هذه الأسطورة في تكرار نفسها. ينطبق هذا على [مستأجري Azure AD B2C](/azure/active-directory-b2c/) أيضا. يمكنني سماع الكثير من المرات، "بيئة B2C الخاصة بي في مستأجر XYZ الخاص بي"، أو "كيف أعمل نقل مستأجر Azure الخاص بي إلى مستأجري Office 365؟"
- يركز هذا المستند في الغالب على السحابة التجارية في جميع أنحاء العالم، لأن هذا ما يستخدمه معظم العملاء. من المفيد أحيانا معرفة [السحب ذات السيادة](/azure/active-directory/develop/authentication-national-cloud). للسحب ذات السيادة آثار إضافية يمكن مناقشتها خارج نطاق هذه المناقشة.

## <a name="baseline-identity-articles"></a>مقالات الهوية الأساسية

هناك الكثير من الوثائق حول النظام الأساسي لهوية Microsoft – Azure Active Directory (Azure AD). بالنسبة لأولئك الذين يبدؤون للتو، غالبا ما تشعر بالضغط. حتى بعد أن تتعرف على ذلك، قد يكون مواكبة الابتكار والتغيير المستمرين أمرا صعبا. في تفاعلات العملاء، غالبا ما أجد نفسي أعمل "كمترجم" بين أهداف العمل ونهج "جيد، أفضل، أفضل" لمعالجة هذه (و"ملاحظات المنحدرات" البشرية لهذه المقالات). نادرا ما يكون هناك إجابة مثالية ويكون القرار "الصحيح" توازنا بين عوامل الخطر المختلفة. فيما يلي بعض الأسئلة الشائعة ومجالات الارتباك التي أميل إلى مناقشتها مع العملاء.

### <a name="provisioning"></a>توفير

Azure AD لا يحل لعدم وجود حوكمة في عالم هويتك! وينبغي أن تكون [حوكمة الهوية](/azure/active-directory/governance/identity-governance-overview) عنصرا مهما مستقلا عن أي قرارات سحابية. تتغير متطلبات التحكم بمرور الوقت، ولهذا السبب فهو برنامج وليس أداة.

[Azure AD الاتصال](/azure/active-directory/hybrid/whatis-azure-ad-connect) مقابل [Microsoft Identity Manager](/microsoft-identity-manager/microsoft-identity-manager-2016) (MIM) مقابل شيء آخر (جهة خارجية أو مخصصة)؟ احفظ لنفسك الكثير من المشاكل الآن وفي المستقبل وانتقل إلى Azure AD الاتصال. هناك جميع أنواع الذكاء في هذه الأداة لمعالجة تكوينات العملاء الغريبة والابتكارات المستمرة.

بعض حالات الحافة التي قد تدفع نحو بنية أكثر تعقيدا:

- لدي غابات AD متعددة دون اتصال الشبكة بينها. هناك خيار جديد يسمى [توفير السحابة](/azure/active-directory/cloud-provisioning/what-is-cloud-provisioning).
- ليس لدي Active Directory ولا أريد تثبيته. يمكن تكوين Azure AD الاتصال [للمزامنة من LDAP](/azure/active-directory/hybrid/plan-hybrid-identity-design-considerations-tools-comparison) (قد يكون الشريك مطلوبا).
- أحتاج إلى توفير نفس العناصر لمستأجرين متعددين. هذا السيناريو غير مدعوم تقنيا ولكنه يعتمد على تعريف "نفسه".

هل يجب تخصيص قواعد المزامنة الافتراضية ([عناصر التصفية](/azure/active-directory/hybrid/how-to-connect-sync-configure-filtering)[، وتغيير السمات](/azure/active-directory/hybrid/reference-connect-sync-attributes-synchronized)، [ومعرف تسجيل الدخول البديل](/azure/active-directory/hybrid/plan-connect-userprincipalname)، وما إلى ذلك)؟ تجنب ذلك! النظام الأساسي للهوية هو فقط قيمة مثل الخدمات التي تستخدمه. بينما يمكنك القيام بجميع أنواع تكوينات البندق، للإجابة عن هذا السؤال تحتاج إلى النظر في التأثير على التطبيقات. إذا قمت بتصفية الكائنات الممكنة للبريد، فسيكون GAL خدمات الإنترنت غير مكتمل؛ وإذا كان التطبيق يعتمد على سمات معينة، فسيكون لتصفية هذه السمات تأثير غير متوقع؛ وهكذا. إنه ليس قرار فريق هوية.

يدعم XYZ SaaS توفير الخدمات في الوقت المناسب (JIT)، لماذا تطلب مني المزامنة؟ انظر أعلاه. تحتاج العديد من التطبيقات إلى معلومات "ملف التعريف" للوظائف. لا يمكن أن يكون لديك GAL إذا لم تكن كافة الكائنات الممكنة للبريد متوفرة. وينطبق الشيء نفسه على [توفير المستخدم](/azure/active-directory/app-provisioning/user-provisioning) في التطبيقات المتكاملة مع Azure AD.

### <a name="authentication"></a>المصادقة

[مزامنة تجزئة كلمة المرور](/azure/active-directory/hybrid/how-to-connect-password-hash-synchronization) (PHS) مقابل [المصادقة التمريرية](/azure/active-directory/hybrid/how-to-connect-pta-how-it-works) (PTA) مقابل [الاتحاد](/azure/active-directory/hybrid/how-to-connect-fed-compatibility).

عادة ما يكون هناك [جدال](/azure/active-directory/hybrid/choose-ad-authn) شغوف حول الاتحاد. الأبسط عادة ما يكون أفضل وبالتالي استخدم PHS إلا إذا كان لديك سبب وجيه لعدم القيام بذلك. من الممكن أيضا تكوين أساليب مصادقة مختلفة لمجالات DNS المختلفة في نفس المستأجر.

يمكن بعض العملاء الاتحاد + PHS بشكل أساسي من أجل:

- خيار [العودة](/azure/active-directory/hybrid/plan-migrate-adfs-password-hash-sync) إلى (للتعافي من الكوارث) إذا لم تكن خدمة الاتحاد متوفرة.
- قدرات إضافية (على سبيل المثال: [Azure AD DS](/azure/active-directory-domain-services/tutorial-configure-password-hash-sync)) وخدمات الأمان (على سبيل المثال: [بيانات الاعتماد المسربة](/azure/active-directory/reports-monitoring/concept-risk-events#leaked-credentials))
- دعم الخدمات في Azure التي لا تفهم المصادقة الموحدة (على سبيل المثال، [Azure Files](/azure/storage/files/storage-files-active-directory-overview)).

غالبا ما أرشد العملاء خلال تدفق مصادقة العميل لتوضيح بعض المفاهيم الخاطئة. تبدو النتيجة مثل الصورة أدناه، والتي ليست جيدة مثل العملية التفاعلية للوصول إلى هناك.

![مثال على محادثة لوح المعلومات.](../media/solutions-architecture-center/identity-beyond-whiteboard-example.png)

يوضح هذا النوع من رسم لوح المعلومات مكان تطبيق نهج الأمان ضمن تدفق طلب المصادقة. في هذا المثال، يتم تطبيق النهج التي يتم فرضها من خلال خدمة الأمان المشترك ل Active Directory (AD FS) على طلب الخدمة الأول، ولكن ليس طلبات الخدمة اللاحقة. هذا السلوك هو سبب واحد على الأقل لنقل عناصر التحكم في الأمان إلى السحابة قدر الإمكان.

لقد كنا نلحق بحلم [تسجيل الدخول الأحادي](/azure/active-directory/manage-apps/what-is-single-sign-on) (SSO) طالما يمكنني تذكره. يعتقد بعض العملاء أنه يمكنهم تحقيق ذلك عن طريق اختيار موفر الاتحاد "الصحيح" (STS). يمكن أن تساعد Azure AD بشكل كبير [في تمكين قدرات تسجيل الدخول الأحادي](/azure/active-directory/manage-apps/plan-sso-deployment)، ولكن لا يوجد STS سحري. هناك عدد كبير جدا من أساليب المصادقة "القديمة" التي لا تزال تستخدم للتطبيقات الهامة. يمكن أن يعالج توسيع Azure AD مع [حلول الشركاء](/azure/active-directory/saas-apps/tutorial-list) العديد من هذه السيناريوهات. تسجيل الدخول الأحادي هو استراتيجية ورحلة. لا يمكنك الوصول إلى هناك دون الانتقال نحو [معايير التطبيقات](/azure/active-directory/develop/v2-app-types). تتعلق هذه المقالة برحلة إلى المصادقة [بدون كلمة مرور](/azure/active-directory/authentication/concept-authentication-passwordless) ، والتي لا تحتوي أيضا على إجابة سحرية.

[تعد المصادقة متعددة العوامل](/azure/active-directory/authentication/concept-mfa-howitworks) (MFA) ضرورية اليوم ([هنا](https://techcommunity.microsoft.com/t5/azure-active-directory-identity/your-pa-word-doesn-t-matter/ba-p/731984) لمزيد من المعلومات). أضف إليه [تحليلات سلوك المستخدم](/azure/active-directory/authentication/tutorial-risk-based-sspr-mfa) ولديك حل يمنع الهجمات الإلكترونية الأكثر شيوعا. حتى خدمات المستهلكين تنتقل إلى طلب المصادقة متعددة العوامل. ومع ذلك، ما زلت ألتقي بالعديد من العملاء الذين لا يرغبون في الانتقال إلى نهج [المصادقة الحديثة](../enterprise/hybrid-modern-auth-overview.md) . أكبر وسيطة يمكنني سماعها هي أنها ستؤثر على المستخدمين والتطبيقات القديمة. في بعض الأحيان قد تساعد اللقطة الجيدة العملاء على المضي قدما - Exchange Online [التغييرات التي تم الإعلان عنها](https://techcommunity.microsoft.com/t5/exchange-team-blog/basic-auth-and-exchange-online-february-2020-update/ba-p/1191282). تتوفر الآن الكثير من [تقارير](/azure/active-directory/fundamentals/concept-fundamentals-block-legacy-authentication) Azure AD لمساعدة العملاء في هذا الانتقال.

### <a name="authorization"></a>التخويل

لكل [ويكيبيديا](https://en.wikipedia.org/wiki/Authorization)، "التخويل" هو تحديد نهج الوصول. ينظر إليه العديد من الأشخاص على أنه القدرة على تعريف عناصر التحكم بالوصول إلى عنصر (ملف وخدمة وما إلى ذلك). في عالم التهديدات السيبرانية الحالي، يتطور هذا المفهوم بسرعة إلى نهج ديناميكي يمكنه الاستجابة لمختلف متجهات التهديدات وضبط عناصر التحكم في الوصول بسرعة استجابة لهذه. على سبيل المثال، إذا قمت بالوصول إلى حسابي البنكي من موقع غير عادي، أتلقى خطوات تأكيد إضافية. لمعالجة هذا الأمر، نحتاج إلى النظر ليس فقط في النهج نفسه ولكن أيضا في النظام البنائي للكشف عن التهديدات ومنهجيات ارتباط الإشارات.

يتم تنفيذ محرك نهج Azure AD باستخدام [نهج الوصول المشروط](/azure/active-directory/conditional-access/overview). يعتمد هذا النظام على معلومات من مجموعة متنوعة من أنظمة الكشف عن التهديدات الأخرى لاتخاذ قرارات ديناميكية. قد تكون طريقة العرض البسيطة شيئا مثل الرسم التوضيحي التالي:

![محرك النهج في Azure AD.](../media/solutions-architecture-center/identity-and-beyond-illustration-3.png)

يسمح الجمع بين كل هذه الإشارات معا بنهج ديناميكية مثل هذه:

- إذا تم الكشف عن تهديد على جهازك، فسيتم تقليل وصولك إلى البيانات إلى الويب فقط دون القدرة على التنزيل.
- إذا كنت تقوم بتنزيل كمية كبيرة بشكل غير عادي من البيانات، فسيتم تشفير أي شيء تقوم بتنزيله وتقييده.
- إذا قمت بالوصول إلى خدمة من جهاز غير مدار، فسيتم حظرك من البيانات الحساسة للغاية ولكن يسمح لك بالوصول إلى البيانات غير المقيدة دون القدرة على نسخها إلى موقع آخر.

إذا كنت توافق على هذا التعريف الموسع للتخويل، فأنت بحاجة إلى تنفيذ حلول إضافية. تعتمد الحلول التي تنفذها على مدى ديناميكيتك التي تريد أن تكون عليها السياسة والتهديدات التي تريد تحديد أولوياتها. بعض الأمثلة على هذه الأنظمة هي:

- [حماية الهوية في Azure AD](/azure/active-directory/identity-protection/)
- [Microsoft Defender للهوية](/azure-advanced-threat-protection/)
- [مشكلات الأداء في Microsoft Defender لنقطة النهاية](/windows/security/threat-protection/microsoft-defender-atp/microsoft-defender-advanced-threat-protection)
- [Microsoft Defender لـ Office 365](../security/office-365-security/defender-for-office-365.md)
- [Microsoft Defender for Cloud Apps](/cloud-app-security/) (Defender for Cloud Apps)
- [Microsoft 365 Defender](../security/defender/microsoft-365-defender.md)
- [Microsoft Intune](/mem/intune/)
- [Microsoft Purview حماية البيانات](../compliance/information-protection.md)
- [Microsoft Sentinel](/azure/sentinel/)

بالطبع، بالإضافة إلى Azure AD، فإن الخدمات والتطبيقات المختلفة لها نماذج تخويل خاصة بها. تتم مناقشة بعض هذه الخطوات لاحقا في قسم التفويض.

### <a name="audit"></a>مراجعه الحسابات

Azure AD لديه قدرات [مفصلة للتدقيق وإعداد التقارير](/azure/active-directory/reports-monitoring/). ومع ذلك، فإن هذه التقارير ليست عادة المصدر الوحيد للمعلومات اللازمة لاتخاذ قرارات أمنية. اطلع على مزيد من المناقشة حول ذلك في قسم التفويض.

## <a name="theres-no-exchange"></a>لا يوجد Exchange

لا تذعر! هذا لا يعني أنه يتم إهمال Exchange (أو SharePoint، وما إلى ذلك). لا تزال خدمة أساسية. ما يعنيه هو، لبعض الوقت الآن، كان موفرو التكنولوجيا ينتقلون تجارب المستخدم (UX) لتشمل مكونات خدمات متعددة. في Microsoft 365، مثال بسيط هو "[المرفقات الحديثة](https://support.office.com/article/Attach-files-or-insert-pictures-in-Outlook-email-messages-BDFAFEF5-792A-42B1-9A7B-84512D7DE7FC)" حيث يتم تخزين مرفقات البريد الإلكتروني في SharePoint Online أو OneDrive for Business.

![إرفاق ملف برسالة بريد إلكتروني.](../media/solutions-architecture-center/modern-attachments.png)

بالنظر إلى عميل Outlook، يمكنك رؤية العديد من الخدمات "المتصلة" كجزء من هذه التجربة، وليس فقط Exchange. يشمل ذلك مجموعات Azure AD البحث من Microsoft والتطبيقات وملفات التعريف والتوافق ومجموعات Office 365.

![واجهة Outlook مع وسائل شرح.](../media/solutions-architecture-center/identity-and-beyond-conceptual-screenshot.png)

اقرأ حول [إطار عمل Microsoft Fluid](https://techcommunity.microsoft.com/t5/microsoft-365-blog/microsoft-ignite-blog-microsoft-fluid-framework-preview/ba-p/978268) لمعاينة القدرات القادمة. في المعاينة الآن، يمكنني قراءة المحادثات Teams والرد عليها مباشرة في Outlook. في الواقع، [العميل Teams](https://products.office.com/microsoft-teams/download-app) هو أحد الأمثلة الأكثر بروزا لهذه الاستراتيجية.

بشكل عام، أصبح من الصعب رسم خط واضح بين Office 365 والخدمات الأخرى في سحابة Microsoft. أرى أنها فائدة كبيرة للعملاء حيث يمكنهم الاستفادة من الابتكار الكلي عبر كل ما نقوم به حتى لو استخدموا مكونا واحدا. رائعة جدا ولها آثار بعيدة المدى للعديد من العملاء.

اليوم، أجد العديد من مجموعات تكنولوجيا المعلومات للعملاء منظمة حول "المنتجات". إنه منطقي لعالم محلي نظرا لأنك تحتاج إلى خبير لكل منتج معين. ومع ذلك، أنا سعيد تماما أنني لست مضطرا إلى تصحيح أخطاء Active Directory أو Exchange قاعدة بيانات مرة أخرى حيث انتقلت هذه الخدمات إلى السحابة. تزيل الأتمتة (أي نوع من السحابة) بعض الوظائف اليدوية المتكررة (انظر ما حدث للمصانع). ومع ذلك، يتم استبدال هذه المهام بمتطلبات أكثر تعقيدا لفهم التفاعل عبر الخدمات والتأثير واحتياجات الأعمال وما إلى ذلك. إذا كنت ترغب في [التعلم](/learn/)، فهناك فرص كبيرة يتيحها التحول السحابي. قبل الانتقال إلى التكنولوجيا، غالبا ما أتحدث مع العملاء حول إدارة التغيير في مهارات تكنولوجيا المعلومات وهياكل الفريق.

لجميع SharePoint الأشخاص والمطورين، يرجى التوقف عن السؤال "كيف يمكنني إجراء XYZ في SharePoint عبر الإنترنت؟" استخدم [Power Automate](/power-automate/) (أو Flow) لسير العمل، فهو نظام أساسي أكثر قوة. استخدم [Azure Bot Framework](/azure/bot-service/) لإنشاء تجربة مستخدم أفضل لقائمة عناصر 500-K. ابدأ باستخدام [Microsoft Graph](https://developer.microsoft.com/graph/) بدلا من CSOM. تتضمن [Microsoft Teams](/MicrosoftTeams/Teams-overview) SharePoint ولكن أيضا عالما أكثر. هناك العديد من الأمثلة الأخرى التي يمكنني سردها. هناك عالم ضخم ورائعة هناك. افتح الباب [وابدأ الاستكشاف]().

التأثير المشترك الآخر هو في مجال الامتثال. يبدو أن نهج الخدمات المشتركة هذا يخلط تماما بين العديد من نهج الامتثال. استمر في رؤية المؤسسات التي تشير إلى "أحتاج إلى دفتر اليومية لجميع اتصالات البريد الإلكتروني إلى نظام eDiscovery". ماذا يعني هذا حقا عندما لا يعود البريد الإلكتروني مجرد بريد إلكتروني بل نافذة إلى خدمات أخرى؟ Office 365 لديها نهج شامل [للامتثال](../compliance/index.yml)، ولكن تغيير الأشخاص والعمليات غالبا ما يكون أكثر صعوبة من التكنولوجيا.

هناك العديد من الأشخاص الآخرين والآثار المترتبة على العملية. في اعتقادي، هذا العامل هو مجال بالغ الأهمية ومناقشته دون مناقشة. ربما أكثر في مقالة أخرى.

## <a name="tenant-structure-options"></a>خيارات بنية المستأجر

### <a name="single-tenant-vs-multi-tenant"></a>مستأجر واحد مقابل مستأجر متعدد

بشكل عام، يجب أن يكون لدى معظم العملاء مستأجر إنتاج واحد فقط. هناك العديد من الأسباب التي تجعل العديد من المستأجرين تحديا (أعطه [Bing البحث](https://www.bing.com/search?q=office%20365%20multiple%20tenants)) أو قراءة هذا [المستند التقني](https://aka.ms/multi-tenant-user). في الوقت نفسه، لدى العديد من عملاء المؤسسات الذين أعمل معهم مستأجر (صغير) آخر لتعلم تكنولوجيا المعلومات واختبارها وتجربتها. أصبح الوصول عبر المستأجرين إلى Azure أسهل مع [Azure Lighthouse](https://azure.microsoft.com/services/azure-lighthouse/). Office 365 والعديد من خدمات SaaS الأخرى لها حدود لسيناريوهات عبر المستأجرين. هناك الكثير الذي يجب مراعاته في [Azure AD سيناريوهات B2B](/azure/active-directory/b2b/what-is-b2b).

ينتهي العديد من العملاء بمستأجرين إنتاج متعددين بعد عملية الدمج والاستحواذ (M&A) ويريدون الدمج. اليوم هذا ليس بسيطا ويتطلب خدمات Microsoft الاستشارية (MCS) أو شريك بالإضافة إلى برامج تابعة لجهة خارجية. هناك عمل هندسي مستمر لمعالجة سيناريوهات مختلفة مع عملاء متعددين المستأجرين في المستقبل.

يختار بعض العملاء استخدام أكثر من مستأجر واحد. يجب أن يكون هذا قرارا دقيقا للغاية ودائما ما يكون مدفوعا بأسباب العمل! تتضمن بعض الأمثلة الأسباب التالية:

- بنية شركة من نوع قابضة حيث التعاون السهل بين الكيانات المختلفة غير مطلوب وهناك احتياجات إدارية قوية وعزلة أخرى.
- بعد الاستحواذ، يتم اتخاذ قرار تجاري للحفاظ على كيانين منفصلين.
- محاكاة بيئة العميل التي لا تغير بيئة إنتاج العميل.
- تطوير البرامج للعملاء.

في هذه السيناريوهات متعددة المستأجرين، غالبا ما يرغب العملاء في الحفاظ على بعض التكوينات نفسها عبر المستأجرين، أو الإبلاغ عن تغييرات التكوين والانجرافات. وهذا يعني غالبا الانتقال من التغييرات اليدوية إلى التكوين كتعلم برمجي. يقدم دعم Microsoft Premiere ورشة عمل لهذه الأنواع من المتطلبات استنادا إلى عنوان IP العام هذا: <https://Microsoft365dsc.com>.

### <a name="multi-geo"></a>متعدد الجغرافيا

إلى [Multi-Geo](../enterprise/microsoft-365-multi-geo.md) أو not to Multi-Geo، هذا هو السؤال. باستخدام Office 365 Multi-Geo، يمكنك توفير وتخزين البيانات الثابتة في المواقع الجغرافية التي اخترتها لتلبية متطلبات [موقع البيانات](../enterprise/o365-data-locations.md). هناك العديد من المفاهيم الخاطئة حول هذه الإمكانية. ضع ما يلي في الاعتبار:

- لا يوفر فوائد الأداء. قد يجعل الأداء أسوأ إذا لم يكن [تصميم الشبكة](https://aka.ms/office365networking) صحيحا. الحصول على الأجهزة "قريبة" من شبكة Microsoft، وليس بالضرورة لبياناتك.
- إنه ليس حلا [لتوافق القانون العام لحماية البيانات ( GDPR](https://www.microsoft.com/trust-center/privacy/gdpr-overview)). لا يركز القانون العام لحماية البيانات (GDPR) على سيادة البيانات أو مواقع التخزين. هناك أطر توافق أخرى لذلك.
- لا يحل تفويض الإدارة (انظر أدناه) أو [حواجز المعلومات](../compliance/information-barriers.md).
- إنها ليست مماثلة لمستأجرين متعددين وتتطلب مهام سير عمل [إضافية لتزويد المستخدم](https://github.com/MicrosoftDocs/azure-docs-pr/blob/master/articles/active-directory/hybrid/how-to-connect-sync-feature-preferreddatalocation.md) .
- لا [ينقل المستأجر](../enterprise/moving-data-to-new-datacenter-geos.md) (Azure AD الخاص بك) إلى جغرافيا أخرى.

## <a name="delegation-of-administration"></a>تفويض الإدارة

في معظم المؤسسات الكبيرة، يعد الفصل بين الواجبات والتحكم في الوصول استنادا إلى الدور (RBAC) حقيقة ضرورية. سأعتذر مسبقا. هذا النشاط ليس بسيطا كما يريد بعض العملاء أن يكون. تختلف متطلبات العملاء والمتطلبات القانونية والتوافقية والمتطلبات الأخرى وأحيانا تتعارض في جميع أنحاء العالم. غالبا ما تكون البساطة والمرونة على جوانب متقابلة من بعضها البعض. لا تفهمني بشكل خاطئ، يمكننا القيام بعمل أفضل في هذا. لقد كانت هناك تحسينات كبيرة (وستكون) مع مرور الوقت. تفضل بزيارة [Microsoft Technology Center](https://www.microsoft.com/mtc) المحلي الخاص بك للعمل على النموذج الذي يناسب متطلبات عملك دون قراءة 379230 مستندات! هنا، سأركز على ما يجب أن تفكر فيه وليس لماذا هو بهذه الطريقة. فيما يلي خمسة مجالات مختلفة للتخطيط لها وبعض الأسئلة الشائعة التي واجهتني.

### <a name="azure-ad-and-microsoft-365-admin-centers"></a>مراكز إدارة Azure AD Microsoft 365

هناك قائمة طويلة ومتزايدة من [الأدوار المضمنة](/azure/active-directory/roles/permissions-reference). يتكون كل دور من قائمة أذونات الدور المجمعة معا للسماح بتنفيذ إجراءات معينة. يمكنك رؤية هذه الأذونات في علامة التبويب "الوصف" داخل كل دور. بدلا من ذلك، يمكنك رؤية إصدار أكثر قابلية للقراءة البشرية من هذه الأذونات في مسؤول Microsoft 365 Center. لا يمكن تعديل تعريفات الأدوار المضمنة. بشكل عام، أقوم بتجميع هذه الأدوار في ثلاث فئات:

- **مسؤول عمومي**: يجب أن يكون هذا الدور "جميعه قوي" [محميا للغاية](../enterprise/protect-your-global-administrator-accounts.md) تماما كما تفعل في الأنظمة الأخرى. وتشمل التوصيات النموذجية ما يلي: لا يوجد تعيين دائم واستخدام Azure AD إدارة الهويات المتميزة (PIM)؛ مصادقة قوية؛ وما إلى ذلك. ومن المثير للاهتمام أن هذا الدور لا يمنحك حق الوصول إلى كل شيء بشكل افتراضي. عادة ما أرى ارتباكا حول الوصول إلى التوافق والوصول إلى Azure، تمت مناقشته لاحقا. ومع ذلك، يمكن لهذا الدور دائما تعيين الوصول إلى خدمات أخرى في المستأجر.
- **مسؤولو خدمات معينون**: تستهلك بعض الخدمات (Exchange SharePoint وPower BI وما إلى ذلك) أدوار إدارة عالية المستوى من Azure AD. هذا السلوك غير متناسق عبر جميع الخدمات وهناك المزيد من الأدوار الخاصة بالخدمات التي تمت مناقشتها لاحقا.
- **وظيفي**: هناك قائمة طويلة (ومتزايدة) بالأدوار التي تركز على عمليات محددة (المدعو الضيف، وما إلى ذلك). تتم إضافة المزيد من هذه الأدوار بشكل دوري بناء على احتياجات العملاء.

ليس من الممكن تفويض كل شيء (على الرغم من أن الفجوة تتناقص)، ما يعني أنه يجب استخدام دور المسؤول العام في بعض الأحيان. يجب النظر في التكوين كتعلم برمجي والأتمتة بدلا من عضوية الأشخاص في هذا الدور.

**ملاحظة**: يحتوي مركز مسؤولي Microsoft 365 على واجهة سهلة الاستخدام ولكنها تحتوي على مجموعة فرعية من القدرات مقارنة بتجربة مسؤول Azure AD. يستخدم كلا المدخلين نفس أدوار Azure AD، لذلك تحدث التغييرات في نفس المكان. تلميح: إذا كنت تريد واجهة مستخدم مسؤول تركز على إدارة الهوية دون كل الفوضى في Azure، فاستخدم <https://aad.portal.azure.com>.

ماذا يوجد في الاسم؟ لا تضع افتراضات من اسم الدور. اللغة ليست أداة دقيقة جدا. وينبغي أن يكون الهدف هو تحديد العمليات التي تحتاج إلى تفويض قبل النظر في الأدوار المطلوبة. إضافة شخص ما إلى دور "قارئ الأمان" لا يجعلهم يرون إعدادات الأمان عبر كل شيء.

القدرة على إنشاء [أدوار مخصصة](/azure/active-directory/users-groups-roles/roles-custom-overview) هي سؤال شائع. هذه الإمكانية محدودة في Azure AD اليوم (انظر أدناه) ولكنها ستزداد في القدرات بمرور الوقت. أعتقد أن هذه الأدوار المخصصة قابلة للتطبيق على الوظائف في Azure AD وقد لا تمتد "لأسفل" نموذج التدرج الهرمي (تمت مناقشته أعلاه). كلما تعاملت مع "مخصص"، أميل إلى العودة إلى مبدأ "البسيطة أفضل".

سؤال شائع آخر هو القدرة على تحديد نطاق الأدوار إلى مجموعة فرعية من الدليل. أحد الأمثلة هو شيء مثل "مسؤول Helpdesk للمستخدمين في الاتحاد الأوروبي فقط". تهدف [الوحدات الإدارية](/azure/active-directory/users-groups-roles/directory-administrative-units) (AU) إلى معالجة هذا الأمر. كما هو موضح أعلاه، أعتقد أن هذه النطاقات قابلة للتطبيق على الوظائف في Azure AD وقد لا تمتد "لأسفل". بالطبع، بعض الأدوار غير منطقية للنطاق (المسؤولون العموميون، مسؤولو الخدمة، وما إلى ذلك).

اليوم، تتطلب كل هذه الأدوار عضوية مباشرة (أو تعيين ديناميكي إذا كنت تستخدم [Azure AD PIM](/azure/active-directory/privileged-identity-management/)). وهذا يعني أنه يجب على العملاء إدارة هذه مباشرة في Azure AD، ولا يمكن أن تستند هذه الأدوار إلى عضوية مجموعة أمان. أنا لست من محبي إنشاء البرامج النصية لإدارة هذه الأدوار لأنها ستحتاج إلى التشغيل مع حقوق مرتفعة. أوصي عموما بتكامل واجهة برمجة التطبيقات مع أنظمة العمليات مثل ServiceNow أو استخدام أدوات حوكمة الشريك مثل Saviynt. هناك عمل هندسي مستمر لمعالجة هذا مع مرور الوقت.

لقد أشرت [Azure AD PIM](/azure/active-directory/privileged-identity-management/) عدة مرات. هناك حل Microsoft Identity Manager (MIM) [Privileged Access Management](/microsoft-identity-manager/pam/privileged-identity-management-for-active-directory-domain-services) (PAM) المطابق لعناصر التحكم المحلية. قد تحتاج أيضا إلى إلقاء نظرة على [محطات عمل الوصول المتميز](/windows-server/identity/securing-privileged-access/privileged-access-workstations) (PAWs) [وحوكمة الهوية Azure AD](/azure/active-directory/governance/identity-governance-overview). هناك العديد من أدوات الجهات الخارجية أيضا، والتي يمكن أن تمكن رفع الدور في الوقت المناسب، وما يكفي، والديناميكية. عادة ما تكون هذه الإمكانية جزءا من مناقشة أكبر لتأمين بيئة.

في بعض الأحيان تستدعي السيناريوهات إضافة مستخدم خارجي إلى دور (راجع القسم متعدد المستأجرين، أعلاه). هذا يعمل بشكل جيد. [Azure AD B2B](/azure/active-directory/b2b/) عبارة عن مقالة كبيرة وممتعة أخرى للتنقل بين العملاء، ربما في مقالة أخرى.

### <a name="microsoft-365-defender-and-microsoft-365-purview-compliance-portals"></a>Microsoft 365 Defender ومداخل توافق Microsoft 365 Purview

**البريد الإلكتروني & أدوار التعاون** في [مدخل Microsoft 365 Defender](../security/office-365-security/permissions-microsoft-365-security-center.md) *_ومجموعات *Role لحلول Microsoft Purview_* في [مدخل التوافق Microsoft 365 Purview](../compliance/microsoft-365-compliance-center-permissions.md) هي مجموعة من "مجموعات الأدوار"، والتي تكون منفصلة ومتميزة عن الأدوار Azure AD. قد يكون هذا مربكا لأن بعض مجموعات الأدوار هذه لها نفس اسم أدوار Azure AD (على سبيل المثال، قارئ الأمان)، ومع ذلك يمكن أن يكون لها عضوية مختلفة. أفضل استخدام أدوار Azure AD. تتكون كل مجموعة أدوار من "أدوار" واحدة أو أكثر (انظر ما يعنيه إعادة استخدام الكلمة نفسها؟) ولها أعضاء من Azure AD، وهي كائنات ممكنة للبريد الإلكتروني. يمكنك أيضا إنشاء مجموعة أدوار بنفس اسم الدور، والتي قد تحتوي على هذا الدور أو لا تحتوي عليه (تجنب هذا الإرباك).

بمعنى ما، هذه الأذونات هي تطور لنموذج مجموعات الأدوار Exchange. ومع ذلك، Exchange Online لديها واجهة [إدارة مجموعة الأدوار](/exchange/permissions-exo) الخاصة بها. يتم تأمين بعض مجموعات الأدوار في Exchange Online وإدارتها من Azure AD أو Microsoft 365 Defender ومداخل توافق Microsoft 365 Purview، ولكن البعض الآخر قد يكون له نفس الأسماء أو أسماء مشابهة وتتم إدارتها في Exchange Online (إضافة إلى الإرباك). من المستحسن تجنب استخدام واجهة المستخدم Exchange Online ما لم تكن بحاجة إلى نطاقات لإدارة Exchange.

لا يمكنك إنشاء أدوار مخصصة. يتم تحديد الأدوار بواسطة الخدمات التي أنشأتها Microsoft وستنمو مع تقديم خدمات جديدة. هذا السلوك مشابه من حيث المبدأ [للأدوار المحددة بواسطة التطبيقات](/azure/active-directory/develop/howto-add-app-roles-in-azure-ad-apps) في Azure AD. عند تمكين الخدمات الجديدة، غالبا ما تحتاج إلى إنشاء مجموعات أدوار جديدة لمنح حق الوصول إليها أو تفويضها (على سبيل المثال، [إدارة المخاطر الداخلية](../compliance/insider-risk-management-configure.md).

تتطلب مجموعات الأدوار هذه أيضا عضوية مباشرة ولا يمكن أن تحتوي على مجموعات Azure AD. لسوء الحظ، لا تدعم Azure AD PIM اليوم مجموعات الأدوار هذه. مثل Azure AD الأدوار، أميل إلى التوصية بإدارة مجموعات الأدوار هذه من خلال واجهات برمجة التطبيقات أو منتج حوكمة الشريك مثل Saviynt أو غيرها.

تمتد أدوار مدخل Microsoft 365 Defender ومدخل التوافق Microsoft 365 Purview Microsoft 365 ولا يمكنك تحديد نطاق مجموعات الأدوار هذه إلى مجموعة فرعية من البيئة (كما تفعل مع الوحدات الإدارية في Azure AD). يسأل العديد من العملاء كيف يمكنهم الاختيار الفرعي. على سبيل المثال، "إنشاء نهج DLP لمستخدمي الاتحاد الأوروبي فقط". اليوم، إذا كان لديك حقوق لدالة معينة في Microsoft 365 Defender ومداخل توافق "Purview" Microsoft 365، فلديك حقوق لكل شيء تغطيه هذه الدالة في المستأجر. ومع ذلك، فإن العديد من النهج لديها قدرات لاستهداف مجموعة فرعية من البيئة (على سبيل المثال، "جعل هذه [التسميات متوفرة](../compliance/create-sensitivity-labels.md#publish-sensitivity-labels-by-creating-a-label-policy) فقط لهؤلاء المستخدمين"). الحوكمة والاتصال السليمان مكون رئيسي لتجنب التعارضات. يختار بعض العملاء تنفيذ نهج "التكوين كتعليق برمجي" لمعالجة التوزيع الفرعي في Microsoft 365 Defender ومداخل توافق "Purview" Microsoft 365. تدعم بعض الخدمات المحددة التوزيع الفرعي (انظر أدناه).

### <a name="service-specific"></a>خدمة محددة

كما ذكرنا سابقا، يتطلع العديد من العملاء إلى تحقيق نموذج تفويض أكثر دقة. مثال شائع: "إدارة خدمة XYZ فقط لمستخدمي ومواقع القسمة X" (أو بعض الأبعاد الأخرى). تعتمد القدرة على القيام بذلك على كل خدمة وليست متسقة عبر الخدمات والقدرات. بالإضافة إلى ذلك، قد يكون لكل خدمة نموذج RBAC منفصل وفريد. بدلا من مناقشة جميع هذه النماذج (سيستغرق الأمر إلى الأبد)، أقوم بإضافة ارتباطات ذات صلة لكل خدمة. هذه القائمة غير مكتملة، ولكنها ستؤدي إلى بدء الاستخدام.

- **Exchange Online** - (/exchange/permissions-exo/permissions-exo)
- **SharePoint Online** - (/sharepoint/manage-site-collection-administrators)
- **Microsoft Teams** - (/microsoftteams/itadmin-readiness)
- **eDiscovery** - (.. /compliance/index.yml)
  - **تصفية الأذونات** - (.. /compliance/index.yml)
  - **حدود التوافق** - (.. /compliance/set-up-compliance-boundaries.md)
  - **eDiscovery (Premium)** - (.. /compliance/overview-ediscovery-20.md)
- **Yammer** - (/yammer/manage-yammer-users/manage-yammer-admins)
- **متعدد الجغرافيا** - (.. /enterprise/add-a-sharepoint-geo-admin.md)
- **Dynamics 365** – (/dynamics365/)

  ملاحظة: هذا الارتباط هو إلى جذر الوثائق. هناك أنواع متعددة من الخدمات مع تباينات في نموذج المسؤول/التفويض.

- **Power Platform** - (/power-platform/admin/admin-documentation)
  - **Power Apps** - (/power-platform/admin/wp-security)

    ملاحظة: هناك أنواع متعددة مع تباينات في نماذج المسؤول/التفويض.

  - **Power Automate** - (/power-automate/environments-overview-admin)
  - **Power BI** - (/power-bi/service-admin-governance)

    ملاحظة: أمان منصة البيانات وتفويضها (أي Power BI هو مكون) هو مجال معقد.

- **MEM/Intune** - (/mem/intune/fundamentals/role-based-access-control)
- **Microsoft Defender لنقطة النهاية** - (/windows/security/threat-protection/microsoft-defender-atp/user-roles)
- **Microsoft 365 Defender** - (.. /security/defender/m365d-permissions.md)
- **Microsoft Defender for Cloud Apps** - (/cloud-app-security/manage-admins)
- **دفق** - (/stream/assign-administrator-user-role)
- **حواجز المعلومات** - (.. /compliance/information-barriers.md)

### <a name="activity-logs"></a>سجلات النشاط

يحتوي Office 365 على [سجل تدقيق موحد](../compliance/search-the-audit-log-in-security-and-compliance.md). إنه [سجل مفصل](/office/office-365-management-api/office-365-management-activity-api-schema) جدا، ولكن لا تقرأ كثيرا في الاسم. قد لا يحتوي على كل ما تريده أو يحتاج إلى احتياجات الأمان والتوافق الخاصة بك. كما أن بعض العملاء مهتمون حقا [بالتدقيق (Premium).](../compliance/advanced-audit.md)

تتضمن أمثلة سجلات Microsoft 365 التي يتم الوصول إليها من خلال واجهات برمجة التطبيقات الأخرى الميزات التالية:

- [Azure AD](/azure/azure-monitor/platform/diagnostic-settings) (الأنشطة غير المرتبطة Office 365)
- [تعقب الرسائل Exchange](/powershell/module/exchange/get-messagetrace)
- أنظمة التهديد/UEBA التي تمت مناقشتها أعلاه (على سبيل المثال، Azure AD Identity Protection، Microsoft Defender for Cloud Apps، Microsoft Defender لنقطة النهاية، وما إلى ذلك)
- [Microsoft Purview حماية البيانات](../compliance/data-classification-activity-explorer.md)
- [مشكلات الأداء في Microsoft Defender لنقطة النهاية](/windows/security/threat-protection/microsoft-defender-atp/api-power-bi)
- [Microsoft Graph](https://graph.microsoft.com)

من المهم أولا تحديد جميع مصادر السجل اللازمة لبرنامج الأمان والتوافق. لاحظ أيضا أن السجلات المختلفة لها حدود استبقاء مختلفة على الخط.

من منظور تفويض المسؤول، لا تحتوي معظم سجلات نشاط Microsoft 365 على نموذج RBAC مضمن. إذا كان لديك الإذن لرؤية سجل، يمكنك رؤية كل شيء فيه. ومن الأمثلة الشائعة على متطلبات العميل: "أريد أن أكون قادرا على الاستعلام عن النشاط لمستخدمي الاتحاد الأوروبي فقط" (أو بعد آخر). لتحقيق هذا المطلب، نحتاج إلى نقل السجلات إلى خدمة أخرى. في سحابة Microsoft، نوصي بنقله إلى [Microsoft Sentinel](/azure/sentinel/overview) أو [Log Analytics](/azure/azure-monitor/learn/quick-create-workspace).

رسم تخطيطي عالي المستوى:

![رسم تخطيطي لمصادر السجل لبرنامج الأمان والتوافق.](../media/solutions-architecture-center/identity-beyond-illustration-4.png)

يمثل الرسم التخطيطي أعلاه قدرات مضمنة لإرسال السجلات إلى Event Hub و/أو Azure Storage و/أو Azure Log Analytics. لا تتضمن جميع الأنظمة هذا غير الجاهز بعد. ولكن هناك طرق أخرى لإرسال هذه السجلات إلى نفس المستودع. على سبيل المثال، راجع [حماية Teams باستخدام Microsoft Sentinel](https://techcommunity.microsoft.com/t5/azure-sentinel/protecting-your-teams-with-azure-sentinel/ba-p/1265761).

يتضمن الجمع بين جميع السجلات في موقع تخزين واحد فائدة إضافية، مثل الارتباطات المتبادلة، وأوقات الاستبقاء المخصصة، والتكبير بالبيانات اللازمة لدعم نموذج RBAC، وما إلى ذلك. بمجرد أن تكون البيانات في نظام التخزين هذا، يمكنك إنشاء لوحة معلومات Power BI (أو نوع آخر من المرئيات) باستخدام نموذج RBAC مناسب.

لا يلزم توجيه السجلات إلى مكان واحد فقط. قد يكون من المفيد أيضا دمج [Office 365 Logs مع Microsoft Defender for Cloud Apps](/cloud-app-security/connect-office-365-to-microsoft-cloud-app-security) أو نموذج RBAC مخصص في [Power BI](../admin/usage-analytics/usage-analytics.md). تتمتع المستودعات المختلفة بفوائد وجمهور مختلفين.

تجدر الإشارة إلى أن هناك نظام تحليلات مدمجا غنيا جدا للأمان والتهديدات والثغرات الأمنية وما إلى ذلك في خدمة تسمى [Microsoft 365 Defender](../security/defender/microsoft-365-defender.md).

يرغب العديد من العملاء الكبيرين في نقل بيانات السجل هذه إلى نظام جهة خارجية (على سبيل المثال، SIEM). هناك نهج مختلفة لهذا، ولكن بشكل عام [Azure Event Hub](/azure/azure-monitor/platform/stream-monitoring-data-event-hubs) [Graph](/graph/security-integration) هي نقاط بداية جيدة.

### <a name="azure"></a>Azure

غالبا ما يسألني ما إذا كانت هناك طريقة لفصل الأدوار ذات الامتيازات العالية بين Azure AD وAzure وSaaS (على سبيل المثال: المسؤول العام Office 365 ولكن ليس Azure). ليس حقًا. هناك حاجة إلى بنية متعددة المستأجرين إذا كان الفصل الإداري الكامل مطلوبا، ولكن هذا يضيف [تعقيدا](https://aka.ms/multi-tenant-user) كبيرا (انظر أعلاه). كل هذه الخدمات هي جزء من نفس حدود الأمان/الهوية (انظر إلى نموذج التسلسل الهرمي أعلاه).

من المهم فهم العلاقات بين الخدمات المختلفة في نفس المستأجر. أعمل مع العديد من العملاء الذين يقومون بإنشاء حلول أعمال تمتد عبر Azure Office 365 وPower Platform (وغالبا ما تكون أيضا خدمات سحابية داخلية وطرف ثالث). مثال شائع واحد:

1. أريد التعاون في العمل على مجموعة من المستندات/الصور/إلخ (Office 365)
2. إرسال كل واحد منهم من خلال عملية الموافقة (Power Platform)
3. بعد الموافقة على جميع المكونات، قم بتجميع هذه العناصر في التسليمات الموحدة (Azure) [Microsoft Graph API](/azure/active-directory/develop/microsoft-graph-intro) هو أفضل صديق لك هنا. ليس مستحيلا، ولكن أكثر تعقيدا بكثير لتصميم حل يمتد على [نطاق مستأجرين متعددين](/azure/active-directory/develop/single-and-multi-tenant-apps).

يتيح Azure Role-Based Access Control (RBAC) إدارة الوصول الدقيقة ل Azure. باستخدام RBAC، يمكنك إدارة الوصول إلى الموارد عن طريق منح المستخدمين أقل الأذونات اللازمة لأداء وظائفهم. التفاصيل خارج نطاق هذا المستند، ولكن لمزيد من المعلومات حول RBAC، راجع [ما هو التحكم في الوصول استنادا إلى الدور (RBAC) في Azure؟](/azure/role-based-access-control/overview) التحكم في الوصول استنادا إلى الدور مهم ولكنه جزء فقط من اعتبارات الحوكمة ل Azure. [Cloud Adoption Framework](/azure/cloud-adoption-framework/govern/) هو نقطة انطلاق رائعة لمعرفة المزيد. أحب الطريقة التي يرشد بها صديقى [أندرس رافينيت](https://www.linkedin.com/in/andres-ravinet/) العملاء خطوة بخطوة على الرغم من المكونات المختلفة لاتخاذ قرار بشأن النهج. طريقة العرض عالية المستوى للعناصر المختلفة (ليست جيدة مثل عملية الوصول إلى نموذج العميل الفعلي) شيء مثل هذا:

![عرض عالي المستوى لمكونات Azure للإدارة المفوضة.](../media/solutions-architecture-center/identity-beyond-illustration-5.png)

كما ترون من الصورة أعلاه، يجب اعتبار العديد من الخدمات الأخرى كجزء من التصميم (على سبيل المثال: [Azure Policies](/azure/governance/policy/overview) [وAzure Blueprints](/azure/governance/blueprints/overview) ومجموعات [الإدارة](/azure/governance/management-groups/) وما إلى ذلك).

## <a name="conclusion"></a>الختام

بدأت كملخص قصير، وانتهت لفترة أطول مما توقعت. أرجو أن تكون مستعدا الآن للشروع في رؤية عميقة لإنشاء نموذج تفويض لمؤسستك. هذه المحادثة شائعة جدا مع العملاء. لا يوجد نموذج واحد يعمل للجميع. في انتظار بعض التحسينات المخطط لها من هندسة Microsoft قبل توثيق الأنماط الشائعة التي نراها عبر العملاء. في هذه الأثناء، يمكنك العمل مع فريق حساب Microsoft لترتيب زيارة إلى أقرب [مركز تكنولوجيا Microsoft](https://www.microsoft.com/mtc). اراك هناك!
