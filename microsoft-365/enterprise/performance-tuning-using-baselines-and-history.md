---
title: Office 365 الأداء باستخدام الأساسات ومحفوظات الأداء
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 07/08/2021
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
ms.localizationpriority: medium
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: 1492cb94-bd62-43e6-b8d0-2a61ed88ebae
ms.collection:
- M365-security-compliance
- Ent_O365
- SPO_Content
description: تعرف على كيفية التحقق من محفوظات اتصالات الكمبيوتر العميل لمساعدتك على الكشف المبكر عن المشاكل الناشئة.
ms.openlocfilehash: 7395b7459264a9463b2b850590163983873a13db
ms.sourcegitcommit: 355ab75eb7b604c6afbe9a5a1b97ef16a1dec4fc
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/14/2022
ms.locfileid: "63572844"
---
# <a name="office-365-performance-tuning-using-baselines-and-performance-history"></a>Office 365 الأداء باستخدام الأساسات ومحفوظات الأداء

هناك بعض الطرق البسيطة للتحقق من أداء الاتصال بين Office 365 والأعمال التي تسمح لك بإنشاء أساس تقريبي لاتصالك. يمكن أن تساعدك معرفة محفوظات أداء اتصالات الكمبيوتر العميل على اكتشاف المشاكل الناشئة مبكرا وتحديد المشاكل وتوقعها.
  
إذا لم تكن معتادا على العمل على مشاكل الأداء، فقد تم تصميم هذه المقالة لمساعدتك على التفكير في بعض الأسئلة الشائعة. كيف يمكنك معرفة أن المشكلة التي تواجهها هي مشكلة في الأداء وليس Office 365 الخدمة؟ كيف يمكنك التخطيط للأداء الجيد على المدى الطويل؟ كيف يمكنك مراقبة الأداء؟ إذا كان أداء فريقك أو عملائك بطيئا أثناء Office 365، وتتساءل عن أي من هذه الأسئلة، ف تابع القراءة.
  
> [!IMPORTANT]
> **هل لديك مشكلة في الأداء بين العميل Office 365 الآن؟** اتبع الخطوات الواردة [في خطة استكشاف](performance-troubleshooting-plan.md) الأخطاء وإصلاحها Office 365. 
    
## <a name="something-you-should-know-about-office-365-performance"></a>شيء يجب معرفته حول أداء Office 365

Office 365 داخل شبكة Microsoft عالية السعة ومخصصة يتم مراقبتها بواسطة التنفيذ التلقائي و الأشخاص الحقيقيين. جزء من الحفاظ على Office 365 السحابة هو ضبط الأداء وتبسيطه قدر الإمكان. بما أن عملاء Office 365 السحابة يجب أن يتصلوا عبر الإنترنت، فهناك جهود مستمرة لضبط الأداء عبر Office 365 الخدمات أيضا.

لا تتوقف تحسينات الأداء أبدا في السحابة، لذا لا يمكن تجربة الحفاظ على صحة السحابة وسريعة. إذا كان لديك مشكلة في الأداء عند الاتصال من موقعك Office 365، فمن الأفضل عدم البدء أو الانتظار في حالة دعم. بدلا من ذلك، يجب أن تبدأ في التحقق من المشكلة من الداخل إلى الخارج. أي، ابدأ داخل شبكتك، واعمل على Office 365. قبل فتح حالة مع الدعم، يمكنك جمع البيانات واتخاذ الإجراءات التي ستستكشف المشكلة وقد تحلها.
  
> [!IMPORTANT]
> كن على دراية بتخطيط السعة وحدودها في Office 365. ستضعك هذه المعلومات قبل المنحنى عند محاولة حل مشكلة في الأداء. فيما يلي ارتباط إلى Microsoft 365 [Office 365 الخدمة](/office365/servicedescriptions/office-365-service-descriptions-technet-library). هذا هو الموزع المركزي، وكل الخدمات التي يقدمها Office 365 ارتباط إلى أوصاف الخدمة الخاصة بها من هنا. وهذا يعني أنه إذا كنت بحاجة إلى الاطلاع على الحدود القياسية ل SharePoint Online، على سبيل المثال، يمكنك النقر فوق SharePoint "وصف [](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-service-description) الخدمة عبر الإنترنت" وتحديد موقع المقطع "حدود SharePoint [عبر الإنترنت](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits)".
  
تأكد من الانتقال إلى استكشاف الأخطاء وإصلاحها مع إدراك أن الأداء هو مقياس تمرير. لا يتعلق الأمر ب تحقيق قيمة مثالية والمحافظة عليها بشكل دائم. من حين لآخر، ستكون المهام ذات النطاق الترددي العالي، مثل اصطدام عدد كبير من المستخدمين، أو تنفيذ ترحيلات كبيرة للبيانات، مجهدة، لذا يمكنك التخطيط لتأثيقات الأداء بعد ذلك. يجب أن تكون لديك فكرة تقريبية عن أهداف الأداء، ولكن العديد من المتغيرات تلعب دورا في الأداء، لذلك يختلف الأداء.
  
لا يتعلق استكشاف الأخطاء وإصلاحها بالأداء ب تحقيق أهداف معينة والحفاظ على هذه الأرقام إلى أجل غير مسمى، بل يتعلق بتحسين الأنشطة الموجودة، في ضوء كل المتغيرات. 
  
## <a name="okay-what-does-a-performance-problem-look-like"></a>حسنا، كيف تبدو مشكلة الأداء؟

أولا، تحتاج إلى التأكد من أن ما تواجهه هو بالفعل مشكلة في الأداء وليس حادث خدمة. تختلف مشكلة الأداء عن حادث الخدمة في Office 365. إليك كيفية التمييز بينها.
  
تحدث أحداث الخدمة عندما تواجه Office 365 الخدمة نفسها مشاكل. قد ترى أيقونات حمراء أو صفراء ضمن **"الحالة الحالية**" في مركز مسؤولي Microsoft 365. قد تلاحظ أن الأداء على أجهزة الكمبيوتر العميلة التي تتصل Office 365 يكون بطيئا. على سبيل المثال، إذا كانت الحالة الصحية الحالية تقوم بلتقارير عن أيقونة حمراء وشاهدت التحقق إلى جانب Exchange، فقد تحصل أيضا على مكالمات من أشخاص في مؤسستك يشكون من أن علب بريد العملاء التي تستخدم Exchange Online بطيئة. في هذه الحالة، من المنطقي افتراض أن أداء Exchange Online كان ضحية لقضايا الخدمة.
  
![لوحة Office 365 لوحة المعلومات "Office 365" التي تعرض كل أحمال العمل باللون الأخضر، باستثناء Exchange التي تعرض "استعادة الخدمة".](../media/ec7f0325-9e61-4e1a-bec0-64b87f4469be.PNG)
  
في هذه المرحلة، Office 365 المسؤول، التحقق من الحالة الحالية، ثم عرض التفاصيل  والمحفوظات، في أغلب الأحيان، لكي تبقى مواكبا لصيانة النظام. تم **إنشاء لوحة معلومات** الحالة الحالية لتحديثك حول التغييرات التي تطرأ على الخدمة والمشاكل التي تواجهها. توجد الملاحظات والتفسيرات المكتوبة في محفوظات الصحة، من المسؤول إلى المسؤول، لمساعدتك على القياس، ولإبقاء عملك منشورا حول العمل الجاري.
  
![صورة للوحة معلومات Office 365 توضح أنه Exchange Online استعادة الخدمة، ولماذا.](../media/66609554-426a-4448-8be6-ea09817f41ba.PNG)
  
إن مشكلة الأداء ليست حادث خدمة، على الرغم من أن الحوادث قد تتسبب في بطء الأداء. تبدو مشكلة الأداء كما يلي:
  
- تحدث مشكلة في الأداء بغض النظر عن الحالة **الحالية لمركز الإدارة** التي تبلغ عنها الخدمة.
    
-  يستغرق السلوك الذي كان يتدفق وقتا طويلا لإكماله أو عدم إكماله مطلقا.
    
- يمكنك تكرار المشكلة أيضا، أو معرفة حدوثها إذا قمت بسلسلة الخطوات الصحيحة.
    
-  إذا كانت المشكلة متقطعة، فلا يزال هناك نمط. على سبيل المثال، ستعرف أنه بحلول الساعة 10:00 صباحا، ستتصل بمستخدمين لا يمكنهم دائما الوصول إلى Office 365. ستنتهي المكالمات عند الظهر.
    
تبدو هذه القائمة مألوفة على الأرجح؛ ربما مألوفة جدا. عندما تدرك أنها مشكلة في الأداء، يصبح السؤال "ماذا تفعل بعد ذلك؟" تساعدك بقية هذه المقالة على تحديد ذلك بالضبط.
  
## <a name="how-to-define-and-test-the-performance-problem"></a>كيفية تعريف مشكلة الأداء واختبارها

تظهر مشاكل الأداء في أغلب الأحيان مع مرور الوقت، لذا قد يكون من الصعب تعريف المشكلة الفعلية. قم بإنشاء بيان مشكلة جيد مع فكرة جيدة حول سياق المشكلة، ثم تحتاج إلى خطوات اختبار قابلة للتكرار. فيما يلي بعض الأمثلة حول عبارات المشاكل التي لا توفر معلومات كافية:
  
- كان التبديل من علبة الوارد إلى التقويم الخاص بي أمرا لم ألاحظه، والآن أصبح استراحة للقهوة. هل يمكنك جعله يعمل كما كان في الماضي؟
    
- إن تحميل ملفاتي إلى SharePoint عبر الإنترنت قد أخذ وقتا طويلا. لماذا يكون بطيئا بعد الظهر، ولكن في أي وقت آخر، إنه سريع؟ ألا يمكنك أن تكون سريعة؟
    
هناك العديد من التحديات الكبيرة التي تفرضها بيانات المشاكل أعلاه. وبشكل خاص، هناك الكثير من حالات الالتباس التي يجب التعامل معها. على سبيل المثال:
  
- من غير الواضح كيف كان التبديل بين علبة الوارد والتقويم يعمل على الكمبيوتر المحمول.
    
- عندما يقول المستخدم "ألا يمكن أن يكون الأمر سريعا"، ما هو "سريع"؟
    
- ما المدة التي تكون فيها "إلى الأبد"؟ هل هذه بضع ثوان؟ أو عدة دقائق؟ أو هل يمكن للمستخدم تناول الغداء وسينتهي الإجراء بعد 10 دقائق من عودته؟
    
لا يمكن للمسؤول وم استكشاف المشاكل ومشكلاتها أن يكونوا على علم  بتفاصيل المشكلة من العبارات العامة مثل هذه. على سبيل المثال، لا يعرفون متى بدأت المشكلة في الحدوث. قد لا يعرف م استكشاف المشاكل ومفاتيحها أن المستخدم يعمل من المنزل ولا يرى سوى التبديل البطيء أثناء العمل على الشبكة المنزلية. أو أن المستخدم يقوم بتشغيل تطبيقات ذاكرة الوصول العشوائي الأخرى بشكل مكثف على العميل المحلي. قد لا يعلم المسؤولون أن المستخدم يقوم بتشغيل نظام تشغيل قديم أو لم يقم بتشغيل التحديثات الأخيرة.
  
عندما يقوم المستخدمون ب الإبلاغ عن مشكلة في الأداء، هناك الكثير من المعلومات التي يجب جمعها. يسمى الحصول على معلومات وتسجيلها تحديد المشكلة. إليك قائمة تحديد مستوى أساسية يمكنك استخدامها لجمع معلومات حول مشاكل الأداء. هذه القائمة ليست شاملة، ولكنها مكان للبدء:
  
- ما هو تاريخ حدوث المشكلة، وما هو وقت النهار أو الليل؟
    
- ما هو نوع الكمبيوتر العميل الذي كنت تستخدمه، وكيف يتصل بشبكة الأعمال (VPN أو Wired أو Wireless)؟
    
- هل كنت تعمل عن بعد أو كنت في المكتب؟
    
- هل جربت نفس الإجراءات على كمبيوتر آخر وشاهدت السلوك نفسه؟
    
- تعرف على الخطوات التي تزعجك لكي تتمكن من كتابة الإجراءات التي اتخذتها.
    
- ما مدى بطء الأداء بالثواني أو الدقائق؟
    
- أين يوجد في العالم؟
    
بعض هذه الأسئلة أكثر وضوحا من غيرها. سيفهم معظم الأشخاص أن م استكشاف المشاكل ومشكلاتها يحتاج إلى الخطوات الدقيقة لإعادة إنتاج المشكلة. بعد كل شيء، كيف يمكنك تسجيل الخطأ، وكيف يمكنك أيضا اختبار ما إذا كانت المشكلة قد تم إصلاحها؟ هناك أشياء أقل وضوحا مثل "ما هو التاريخ والوقت الذي رأيت فيه المشكلة؟"، و"أين توجد في العالم؟"، وهي معلومات يمكن استخدامها جنبا إلى جنب. استنادا إلى وقت عمل المستخدم، قد يعني اختلاف الوقت بضع ساعات أن الصيانة جارية بالفعل على أجزاء من شبكة الشركة. على سبيل المثال، لدى شركتك تنفيذ مختلط، مثل بحث SharePoint المختلط، الذي يمكنه الاستعلام عن فهارس البحث في كل من SharePoint Online ومثيل SharePoint Server 2013 المحلية، قد تكون التحديثات جارية في المزرعة المحلية. إذا كانت شركتك كلها في السحابة، فقد تتضمن صيانة النظام إضافة أجهزة الشبكة أو إزالتها، أو طرح تحديثات على مستوى الشركة، أو إجراء تغييرات على DNS أو بنية أساسية أخرى.
  
عند استكشاف مشكلة في الأداء وإصلاحها، فهي تشبه قليلا مسرح الجريمة، يجب أن تكون دقيقا وملاحظا لاستخلاص أي نتائج من الدليل. لكي تتمكن من القيام بذلك، يجب الحصول على بيان جيد للمشكلة من خلال جمع الأدلة. يجب أن تتضمن سياق الكمبيوتر وسياق المستخدم ومتى بدأت المشكلة والخطوات الدقيقة التي عرضت مشكلة الأداء. يجب أن تكون بيان المشكلة هذه، وتبقى، في أعلى صفحة في ملاحظاتك. من خلال المرور عبر بيان المشكلة مرة أخرى بعد العمل على الحل، ستتخذ الخطوات اللازمة لاختبار ما إذا كانت الإجراءات التي اتخذتها قد حلت المشكلة أم لا. من المهم معرفة وقت إنجاز عملك هناك.
  
## <a name="do-you-know-how-performance-used-to-look-when-it-was-good"></a>هل تعرف كيف كان الأداء يبدو عندما كان جيدا؟

إذا لم يحالفك الحظ، فلن يعلم أحد. لم يكن لدى أي شخص أرقام. وهذا يعني أنه لا يمكن لأحد الإجابة على السؤال البسيط "حول عدد الثواني التي كان يستغرقها إحضار علبة وارد في Office 365؟"، أو "كم من الوقت كان يستغرق عندما عقد المديرون التنفيذيون اجتماعا في Lync Online؟"، وهو سيناريو شائع للعديد من الشركات.
  
ما الذي يفتقده هنا هو أساس الأداء؟
  
تمنحك الأساسات سياقا لأدائك. يجب أن تأخذ خطا أساسي من وقت إلى آخر بشكل متكرر، استنادا إلى احتياجات شركتك. إذا كنت شركة أكبر حجما، فقد يتخذ فريق العمليات خطوطا أساسية لبيئة العمل المحلية بالفعل. على سبيل المثال، إذا قمت بتصحيح كل خوادم Exchange في أول يوم اثنين من الشهر، وجميع خوادم SharePoint في يوم الاثنين الثالث، فمن المحتمل أن يكون فريق العمليات لديك لديه قائمة بالمهام والسيناريوهات التي يقوم بتشغيلها بعد التصحيح، لإثبات تشغيل الدالات الهامة. على سبيل المثال، فتح علبة الوارد، والنقر فوق إرسال/تلقي، والتأكد من تحديث المجلدات، أو، في SharePoint، استعراض الصفحة الرئيسية للموقع، ثم الدخول إلى صفحة بحث المؤسسة، والبحث الذي يرجع النتائج.
  
إذا كانت تطبيقاتك في Office 365، فإن بعض الأساسات الأساسية التي يمكنك اتخاذها تقوم لقياس الوقت (بالمللي ثانية) من كمبيوتر عميل داخل الشبكة، إلى نقطة الخروج، أو النقطة التي تغادر فيها الشبكة وتذهب إلى Office 365. فيما يلي بعض الأساسات المفيدة التي يمكنك التحقق فيها وتسجيلها:
  
- حدد الأجهزة بين الكمبيوتر العميل ونقطة الخروج، على سبيل المثال، الخادم الوكيل.
    
  - يجب أن تعرف أجهزتك بحيث يكون لديك سياق (عناوين IP ونوع الجهاز وما إلى ذلك) لمشاكل الأداء التي تنشأ.
    
  - الخوادم الوكيلة هي نقاط الخروج الشائعة، لذا يمكنك التحقق من مستعرض الويب لمعرفة الخادم الوكيل الذي تم تعيينه لاستخدامه، إن وجدت.
    
  - هناك أدوات جهة خارجية يمكنها اكتشاف شبكتك ورسم خريطة لها، ولكن الطريقة الأكثر أمانا لمعرفة أجهزتك هي أن تطلب من أحد أعضاء فريق الشبكة لديك.
    
- حدد موفر خدمة الإنترنت (ISP)، وكتابة معلومات جهة الاتصال الخاصة به، واسأل عن عدد الدوائر التي تملكها من النطاق الترددي.
    
- داخل شركتك، حدد الموارد للأجهزة بين العميل ونقطة الخروج، أو حدد جهة اتصال طوارئ للتحدث معه حول مشاكل الشبكات.
    
فيما يلي بعض الأساسات التي يمكن للاختبار البسيط باستخدام الأدوات حسابها لك:
  
- الوقت من الكمبيوتر العميل إلى نقطة الخروج بالمللي ثانية
    
- الوقت من نقطة الخروج إلى Office 365 بالمللي ثانية
    
- الموقع في عالم الخادم الذي يحل عناوين URL Office 365 الاستعراض
    
- سرعة دقة DNS لميزة ISP بالمللي ثانية، حالات عدم التناسق في وصول الحزم (تشوه الشبكة) والتحميل والتنزيل بالمللي ثانية
    
إذا لم يكن لديك معرفة بكيفية تنفيذ هذه الخطوات، سندخل في مزيد من التفاصيل في هذه المقالة. 
  
## <a name="what-is-a-baseline"></a>ما هو الأساس؟

ستعرف التأثير عندما يصبح سيئا، ولكن إذا لم تكن تعرف بيانات الأداء التاريخية، فمن غير الممكن أن يكون لديك سياق ل مدى سوء الأمور التي أصبحت عليها ومتى. وبالتالي، من دون وجود خط أساسي، ستفتقد إلى الدليل الأساسي لحل اللغز: الصورة على مربع اللغز. في استكشاف الأخطاء وإصلاحها في الأداء، تحتاج إلى نقطة  *مقارنة*. ليس من الصعب الوصول إلى خطوط الأداء الأساسية البسيطة. يمكن أن يكلف فريق العمليات بتنفيذ هذه المهام في جدول زمني. على سبيل المثال، لنقول أن اتصالك يبدو كما يلي: 
  
![رسم شبكة أساسي يعرض العميل والوكيل Office 365 السحابة.](../media/c6ca7140-09f9-4c2d-a775-dbf2820eaa0c.PNG)
  
وهذا يعني أنك قمت بالتحقق من الأمر مع فريق الشبكة ووجدت أنك تغادر شركتك إلى الإنترنت من خلال خادم وكيل، وأن الوكيل يعالج كل الطلبات التي يرسلها الكمبيوتر العميل إلى السحابة. في هذه الحالة، يجب رسم إصدار مبسط من اتصالك يسرد جميع الأجهزة المتدخلة. يمكنك الآن إدراج الأدوات التي يمكنك استخدامها لاختبار الأداء بين العميل ونقطة الخروج (حيث تغادر الشبكة إلى الإنترنت) Office 365 السحابة.
  
![الشبكة الأساسية التي تتضمن عميلا ووكيلا وسحابة وأدوات اقتراحات PSPing وS traceTCP وتتبعات الشبكة.](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
يتم سرد الخيارات ك **بسيطة** ومتقدمة نظرا لكمية الخبرة التي تحتاج إليها للعثور على بيانات الأداء. سيستغرق تتبع الشبكة الكثير من الوقت، مقارنة بتشغيل أدوات سطر الأوامر مثل PsPing و TraceTCP. تم اختيار هذين الأمرين من أدوات سطر الأوامر لأنهما لا تستخدمان حزم ICMP، التي سيتم حظرها بواسطة Office 365، ولأنها تمنح الوقت المللي ثانية الذي يستغرقه مغادرة الكمبيوتر العميل أو الخادم الوكيل (إذا كان لديك حق الوصول) والوصول إلى Office 365. سينتهي كل و قفزة فردية من كمبيوتر إلى آخر بقيمة وقت، وهذا رائع لخط الأساسات! كما أن أدوات سطر الأوامر هذه تسمح لك بإضافة رقم منفذ إلى الأمر، وهذا مفيد لأن Office 365 يتصل عبر المنفذ 443، وهو المنفذ المستخدم بواسطة طبقة مآخذ التوصيل الآمنة وأمان طبقة النقل (SSL و TLS). ومع ذلك، قد تكون أدوات  الأطراف الخارجية الأخرى حلولا أفضل لوضعك. لا تدعم Microsoft كل هذه الأدوات، وبالتالي إذا لم تتمكن لسبب ما من عمل PsPing و TraceTCP، فانتقل إلى تتبع الشبكة باستخدام أداة مثل Netmon. 
  
يمكنك الحصول على أساس قبل ساعات العمل، ومرة أخرى أثناء الاستخدام الكثيف، ثم مرة أخرى بعد ساعات العمل. وهذا يعني أنه قد يكون لديك بنية مجلد تبدو مثل هذه قليلا في النهاية:
  
![رسم يقترح طريقة لتنظيم بيانات الأداء في مجلدات.](../media/13e01ffa-f0f2-4d10-b89d-d5980ec89fae.png)
  
يجب أيضا اختيار اصطلاح تسمية لملفاتك. فيما يلي بعض الأمثلة:
  
- Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal
    
- Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW
    
- Feb_08_2015_2pmEST_PerfBaseline_BADPerf
    
- Feb_08_2015_8-30amEST_PerfBaseline_GoodPerf
    
هناك الكثير من الطرق المختلفة للقيام بذلك، ولكن استخدام التنسيق **\<dateTime\>\<what's happening in the test\>** هو مكان جيد للبدء. سيساعدك المثابرة في هذا الأمر كثيرا عندما تحاول استكشاف المشاكل وإصلاحها في وقت لاحق. في وقت لاحق، ستكون قادرا على قول "لقد قمت بتتبع تتبعين في 8 فبراير، أحدهما أظهر أداء جيدا وظهر أحدهما سيئا، حتى نتمكن من مقارنتهم". هذا مفيد في استكشاف الأخطاء وإصلاحها. 
  
يجب أن يكون لديك طريقة منظمة لإبقاء الأساسات التاريخية. في هذا المثال، أنتجت الأساليب البسيطة ثلاثة إخراجات لخط الأوامر، وقد تم تجميع النتائج كلقطات شاشة، ولكن قد يكون لديك ملفات التقاط الشبكة بدلا من ذلك. استخدم الأسلوب الأفضل لك. قم بتخزين خطوط الأساس التاريخية الخاصة بك و الرجوع إليها في النقاط التي تلاحظ فيها حدوث تغييرات في سلوك الخدمات عبر الإنترنت. 
  
## <a name="why-collect-performance-data-during-a-pilot"></a>لماذا نجمع بيانات الأداء أثناء التجربة؟

لا يوجد وقت أفضل لبدء عمل الأساسات مقارنة بابدأ Office 365 الخدمة. قد يكون لدى مكتبك الآلاف من المستخدمين أو مئات الآلاف أو خمسة مستخدمين، ولكن حتى مع عدد قليل من المستخدمين، يمكنك إجراء الاختبارات لقياس التقلبات في الأداء. في حالة شركة كبيرة، يمكن أن يتم تقديم عينة تمثيلية لعدة مئات من المستخدمين Office 365 إلى الخارج إلى عدة آلاف لكي تتمكن من معرفة مكان حدوث المشاكل قبل حدوثها.
  
في حالة شركة صغيرة، حيث يعني الانتقال إلى الشركة أن جميع المستخدمين سيذهبون إلى الخدمة في الوقت نفسه ولا يوجد أي تجريبي، احتفظ بمواد الأداء بحيث تتوفر لديك بيانات لعرضها على أي شخص قد يحتاج إلى استكشاف الأخطاء وإصلاحها في عملية ذات أداء سيئ. على سبيل المثال، إذا لاحظت فجأة أنه يمكنك التجول في المبنى في الوقت الذي يستغرقه تحميل رسم متوسط الحجم حيث كان يحدث بسرعة.
  
## <a name="how-to-collect-baselines"></a>كيفية تجميع الأساسات

بالنسبة إلى كل خطط استكشاف الأخطاء وإصلاحها، تحتاج إلى تحديد هذه الأشياء بحد أدنى:
  
- الكمبيوتر العميل الذي تستخدمه (نوع الكمبيوتر أو الجهاز وعنوان IP والإجراءات التي تسببت في حدوث المشكلة)
    
- مكان وجود الكمبيوتر العميل في العالم (على سبيل المثال، ما إذا كان هذا المستخدم يعمل على VPN للشبكة أو يعمل عن بعد أو على إنترانت الشركة)
    
- نقطة الخروج التي يستخدمها الكمبيوتر العميل من شبكتك (النقطة التي تغادر فيها حركة المرور عملك إلى ISP أو الإنترنت)
    
 يمكنك معرفة تخطيط الشبكة من مسؤول الشبكة. إذا كنت تعمل على شبكة صغيرة، فنظر إلى الأجهزة التي تصلك بالإنترنت، واتصل بموصل خدمة الإنترنت إذا كانت لديك أسئلة حول التخطيط. إنشاء رسم للتخطيط النهائي للمرجع. 
  
تم تقسيم هذا القسم إلى أدوات وأساليب بسيطة لخط الأوامر، وخيارات أدوات أكثر تقدما. سنغطي الأساليب البسيطة أولا. ولكن إذا كنت تواجه مشكلة في الأداء الآن، يجب الانتقال إلى الأساليب المتقدمة وجرب خطة إجراء استكشاف الأخطاء وإصلاحها.
  
### <a name="simple-methods"></a>أساليب بسيطة

الهدف من هذه الأساليب البسيطة هو التعرف على كيفية استخدام خطوط الأداء الأساسية البسيطة وفهمها وتخزينها بشكل صحيح مع مرور الوقت بحيث تكون على علم Office 365 الأداء. إليك الرسم التخطيطي البسيط البسيط، كما رأيت من قبل:
  
![الشبكة الأساسية التي تتضمن عميلا ووكيلا وسحابة وأدوات اقتراحات PSPing وS traceTCP وتتبعات الشبكة.](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
> [!NOTE]
> يتم تضمين TraceTCP في لقطة الشاشة هذه لأنها أداة مفيدة لإظهار، بالمللي ثانية، المدة التي يستغرقها الطلب في المعالجة، وكم عدد واحات الشبكة، أو الاتصالات من كمبيوتر إلى آخر، التي يحتاجها الطلب للوصول إلى وجهة. يمكن أن تعطي TraceTCP أيضا أسماء الخوادم المستخدمة أثناء القفزات، والتي يمكن أن تكون مفيدة لمعثر Microsoft Office 365 في الدعم. > يمكن أن تكون أوامر TraceTCP بسيطة جدا، مثل:  `tracetcp.exe outlook.office365.com:443` >> تذكر تضمين رقم المنفذ في الأمر! > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) هو تنزيل مجاني، ولكنه يعتمد على Wincap. Wincap هي أداة يتم استخدامها أيضا وتثبيتها بواسطة Netmon. نستخدم أيضا Netmon في قسم الأساليب المتقدمة. 
  
 إذا كان لديك مكاتب متعددة، ستحتاج إلى الاحتفاظ مجموعة من البيانات من عميل في كل من هذه المواقع أيضا. يقيس هذا الاختبار زمن زمن الإرسال، وهو، في هذه الحالة، قيمة رقمية تصف الفترة الزمنية بين عميل يرسل طلبا إلى Office 365، Office 365 الاستجابة للطلب. يتم إنشاء الاختبار داخل مجالك على كمبيوتر عميل، ويبحث عن قياس رحلة ذهاب وإيابا من داخل الشبكة، والخروج من نقطة الخروج، وعبر الإنترنت Office 365، والخلف. 
  
هناك بعض الطرق للتعامل مع نقطة الخروج، في هذه الحالة، الخادم الوكيل. يمكنك إما التتبع من 1 إلى 2 ثم من 2 إلى 3، ثم إضافة الأرقام بالمللي ثانية للحصول على الإجمالي النهائي إلى حافة الشبكة. أو، يمكنك تكوين الاتصال لتجاوز الوكيل Office 365 العناوين. في شبكة أكبر مع جدار حماية أو وكيل عكسي أو مجموعة من الاثنين، قد تحتاج إلى إجراء استثناءات على الخادم الوكيل الذي سيسمح بتمرر حركة المرور للكثير من عناوين URL. للحصول على قائمة نقاط النهاية التي يستخدمها Office 365، راجع Office 365 عناوين [URL وIP](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2). إذا كان لديك وكيل مصادق عليه، فابدأ باختبار الاستثناءات فيما يلي:
  
- المنافذ 80 و443
    
- TCP وHTTPs
    
- الاتصالات الصادرة إلى أي من عناوين URL هذه:
    
- \*.microsoftonline.com
    
- \*.microsoftonline-p.com
    
- \*.sharepoint.com
    
- \*.outlook.com
    
- \*.lync.com
    
- osub.microsoft.com
    
يجب السماح لجميع المستخدمين ب الوصول إلى هذه العناوين دون أي تدخل أو مصادقة من الوكيل. على شبكة أصغر، يجب إضافة هذه إلى قائمة تجاوز الوكيل في مستعرض الويب. 
  
لإضافة هذه إلى قائمة تجاوز الوكيل في Internet Explorer،  **انتقل إلى** \> أدوات **خيارات الإنترنت** \> \> إعدادات اتصالات **LAN** \> **خيارات متقدمة**. علامة التبويب المتقدمة هي أيضا المكان الذي ستجد فيه الخادم الوكيل وميناء الخادم الوكيل. قد تحتاج إلى النقر فوق خانة الاختيار **استخدام خادم وكيل ل LAN**، للوصول إلى **الزر متقدم** . سترغب في التأكد من أنه تم التحقق من **تجاوز** الخادم الوكيل الخاص العناوين المحلية. بمجرد النقر **فوق متقدمة**، سترى مربع نص حيث يمكنك إدخال استثناءات. افصل عناوين URL ل أحرف البدل المدرجة أعلاه باستخدام النقطتين شبه النقطتين، على سبيل المثال:
  
\*.microsoftonline.com; \*.sharepoint.com
  
بمجرد تجاوز الوكيل، يجب أن تتمكن من استخدام ping أو PsPing مباشرة على عنوان url Office 365 URL. ستكون الخطوة التالية اختبار اختبار **outlook.office365.com.** أو، إذا كنت تستخدم PsPing أو أداة أخرى تسمح لك بتزويد الأمر برقم منفذ، فإن PsPing مقابل **portal.microsoftonline.com:443** لرؤية متوسط وقت الرحلة المستديرة بالمللي ثانية. 
  
إن وقت الرحلة المستديرة أو RTT هو قيمة رقمية يقيس الوقت الذي يستغرقه إرسال طلب HTTP إلى خادم مثل outlook.office365.com والحصول على استجابة تقر بأن الخادم يعلم أنك قمت بذلك. سترى في بعض الأحيان هذا الاختصار على أنه RTT. يجب أن يكون هذا وقتا قصيرا نسبيا.
  
يجب استخدام [PSPing](/sysinternals/downloads/psping) أو أداة أخرى لا تستخدم حزم ICMP التي تم حظرها بواسطة Office 365 من أجل إجراء هذا الاختبار. 
  
 **كيفية استخدام PsPing للحصول على وقت إجمالي للرحلة المستديرة بالمللي ثانية مباشرة من عنوان URL Office 365 URL**
  
1. تشغيل موجه أوامر غير مرفوط بإكمال الخطوات التالية:
    
1. انقر **فوق بدء**.
    
2. في المربع **بدء البحث** ، اكتب cmd، ثم اضغط على CTRL+SHIFT+ENTER.
    
3. إذا ظهر **مربع الحوار** التحكم في حساب المستخدم، فتأكد من أن الإجراء الذي يعرضه هو ما تريده، ثم انقر فوق **متابعة**.
    
2. انتقل إلى المجلد حيث تم تثبيت الأداة (في هذه الحالة PsPing) واختبر عناوين URL Office 365:
    
  - psping admin.microsoft.com:443
    
  - psping microsoft-my.sharepoint.com:443
    
  - psping outlook.office365.com:443
    
  - psping www.yammer.com:443
    
    ![الأمر PSPing الذي microsoft-my.sharepoint.com المنفذ 443.](../media/3258f620-4513-4e82-95c9-06b387fc3a82.PNG)
  
تأكد من تضمين رقم المنفذ 443. تذكر أن Office 365 يعمل على قناة مشفرة. إذا قمت ب PsPing بدون رقم المنفذ، سيفشل طلبك. بعد أن تقوم بترويس قائمتك القصيرة، ابحث عن متوسط الوقت بالمللي ثانية (ms). هذا ما تريد تسجيله!
  
![رسم يعرض رسما توضيحيا ل PSPing العميل إلى الوكيل مع وقت الجولة 2.8 مللي ثانية.](../media/96901aea-1093-4f1b-b5a3-6078e9035e6c.png)
  
إذا لم تكن ملما بتخطي الوكيل، وتفضل تنفيذ الخطوات خطوة بخطوة، يجب أولا معرفة اسم الخادم الوكيل. في Internet Explorer، انتقل إلى **أدوات** \> **خيارات الإنترنت** \>  \> إعدادات **اتصالات LAN** \> **المتقدمة**. علامة **التبويب متقدمة** هي المكان الذي سترى فيه الخادم الوكيل مدرجا. الاتصال بخادم الوكيل هذا في موجه الأوامر من خلال إكمال هذه المهمة: 
  
 **ل ping the proxy server and get a round trip value in milliseconds for stage 1 to 2**
  
1. تشغيل موجه أوامر غير مرفوط بإكمال الخطوات التالية:
    
1. انقر **فوق بدء**.
    
2. في المربع **بدء البحث** ، اكتب cmd، ثم اضغط على CTRL+SHIFT+ENTER.
    
3. إذا ظهر **مربع الحوار** التحكم في حساب المستخدم، فتأكد من أن الإجراء الذي يعرضه هو ما تريده، ثم انقر فوق **متابعة**.
    
2. اكتب ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> ثم اضغط على ENTER. إذا كان PsPing مثبتا لديك، أو أداة أخرى، يمكنك اختيار استخدام هذه الأداة بدلا من ذلك. 
    
    قد يبدو الأمر مثل أي من هذه الأمثلة: 
    
  - ping ourproxy.ourdomain.industry.business.com
    
  - ping 155.55.121.55
    
  - ping ourproxy
    
  - psping ourproxy.ourdomain.industry.business.com:80
    
  - psping 155.55.121.55:80
    
  - psping ourproxy:80
    
3. عندما يتوقف التتبع عن إرسال حزم الاختبار، ستحصل على ملخص صغير يسرد المتوسط، بالمللي ثانية، وهذا هو القيمة التي تتبعها. خذ لقطة شاشة للمطالبة واحفظها باستخدام اصطلاح التسمية. في هذه المرحلة، قد يساعد أيضا على تعبئة الرسم التخطيطي بالقيمة.
    
ربما قمت بالتتبع في الصباح الباكر، ويمكن للعميل الوصول إلى الوكيل (أو أي خادم خروج يخرج إلى الإنترنت) بسرعة. في هذه الحالة، قد تبدو أرقامك كما يلي:
  
![رسم يعرض وقت الرحلة المستديرة من عميل إلى وكيل 2.8 مللي ثانية.](../media/1bd03544-23fc-47d4-bbae-c1feb466a5d8.PNG)
  
إذا كان الكمبيوتر العميل أحد أجهزة الكمبيوتر المحددة التي لها حق الوصول إلى الخادم الوكيل (أو الخروج)، يمكنك تشغيل المرحلة التالية من الاختبار عن طريق الاتصال عن بعد بهذا الكمبيوتر، وتشغيل موجه الأوامر إلى PsPing إلى عنوان URL Office 365 من هناك. إذا لم يكن لديك حق الوصول إلى هذا الكمبيوتر، يمكنك الاتصال بم موارد الشبكة للحصول على المساعدة في الخطوة التالية والحصول على أرقام دقيقة بهذه الطريقة. إذا لم يكن ذلك ممكنا، فاتخذ PsPing مقابل عنوان URL Office 365 المعني ومقارنته ب PsPing أو وقت Ping مقابل الخادم الوكيل. 
  
على سبيل المثال، إذا كان لديك 51.84 مللي ثانية من العميل إلى عنوان URL ل Office 365، وكان لديك 2.8 مللي ثانية من العميل إلى الوكيل (أو نقطة الخروج)، فإن لديك 49.04 مللي ثانية من الخروج إلى Office 365. وبالمثل، إذا كان لديك PsPing 12.25 مللي ثانية من العميل إلى الوكيل أثناء ارتفاع اليوم، و62.01 مللي ثانية من العميل إلى عنوان URL ل Office 365، فإن متوسط قيمة الخروج للوكيل إلى عنوان URL ل Office 365 هو 49.76 مللي ثانية.
  
![رسم إضافي يعرض عملية ping بالمللي ثانية من عميل إلى وكيل إلى Office 365 بحيث يمكن طرح القيم.](../media/cd764e77-5154-44ba-a5cd-443a628eb2d9.PNG)
  
بالنسبة إلى استكشاف الأخطاء وإصلاحها، قد تجد شيئا مثيرا للاهتمام من الاحتفاظ بهذه الأساسات فقط. على سبيل المثال، إذا وجدت أن لديك بشكل عام حوالي 40 مللي ثانية إلى 59 مللي ثانية من زمن الوصول من الوكيل أو نقطة الخروج إلى عنوان URL Office 365، وأن يكون لديك عميل للوكيل أو زمن الخروج الذي يصل إلى حوالي 3 مللي ثانية إلى 7 مللي ثانية (استنادا إلى مقدار حركة مرور الشبكة التي تظهر أثناء ذلك الوقت من اليوم) ثم ستعرف بالتأكيد أن هناك مشكلة إذا أظهر العميل الثلاثة الأخيرة للوكيل أو الخروج خطوط الأساس زمن زمن 45 مللي ثانية.
  
### <a name="advanced-methods"></a>الأساليب المتقدمة

إذا كنت تريد حقا معرفة ما يحدث مع طلبات الإنترنت Office 365، يجب أن تصبح على دراية بتتبعات الشبكة. لا يهم الأدوات التي تفضلها لهذه التتبعات، مثل HTTPWatch أو Netmon أو محلل الرسائل أو Wireshark أو Fiddler أو أداة لوحة معلومات المطور أو أي أداة أخرى طالما أن هذه الأداة يمكنها التقاط حركة مرور الشبكة وتصفيتها. سترى في هذا القسم أنه من المفيد تشغيل أكثر من واحدة من هذه الأدوات للحصول على صورة أكثر اكتمالا للمشكلة. أثناء الاختبار، تعمل بعض هذه الأدوات أيضا كتكاتف خاصة بها. تتضمن الأدوات المستخدمة في المقالة المصاحبة[](performance-troubleshooting-plan.md)، خطة استكشاف الأخطاء وإصلاحها Office 365، [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865) أو [HTTPWatch](https://www.httpwatch.com/download/) أو [WireShark](https://www.wireshark.org/).
  
إن استخدام أساس الأداء هو الجزء البسيط من هذا الأسلوب، والعديد من الخطوات هي نفسها التي يتم اتخاذها عند استكشاف مشكلة في الأداء وإصلاحها. تتطلب منك الأساليب الأكثر تقدما لإنشاء خطوط أساسية للأداء أخذ تتبعات الشبكة وتخزينها. تستخدم معظم الأمثلة في هذه المقالة SharePoint Online، ولكن يجب تطوير قائمة الإجراءات الشائعة عبر Office 365 التي اشتركت فيها لاختبارها وتسجيلها. فيما يلي مثال أساسي:
  
- قائمة الأساسات ل SPO - ** الخطوة 1: ** استعراض الصفحة الرئيسية لموقع SPO على الويب وتعقب الشبكة. احفظ التتبع. 
    
- قائمة الأساسات ل SPO - **الخطوة 2:** البحث عن مصطلح (مثل اسم الشركة) عبر "بحث المؤسسة" وتعقب الشبكة. احفظ التتبع. 
    
- قائمة الأساسات ل SPO - الخطوة **3:** Upload ملفا كبيرا إلى مكتبة مستندات SharePoint الإنترنت وتعقب الشبكة. احفظ التتبع. 
    
- قائمة الأساسات ل SPO - **الخطوة 4:** استعراض الصفحة الرئيسية OneDrive ويب وتعقب الشبكة. احفظ التتبع. 
    
يجب أن تتضمن هذه القائمة أهم الإجراءات الشائعة التي يتخذها المستخدمون SharePoint عبر الإنترنت. لاحظ أن الخطوة الأخيرة، لتتبع الذهاب إلى OneDrive for Business، تبني مقارنة بين تحميل صفحة SharePoint Online الرئيسية (التي يتم تخصيصها في أغلب الأحيان بواسطة الشركات) وصفحة OneDrive for Business الرئيسية، التي نادرا ما يتم تخصيصها. هذا اختبار أساسي عندما يتعلق الأمر ببطء التحميل SharePoint Online. يمكنك إنشاء سجل بهذا الاختلاف في الاختبار.
  
إذا كنت في وسط مشكلة في الأداء، فإن العديد من الخطوات هي نفسها التي يتم اتخاذها عند اتخاذ خط أساسي. تصبح تتبعات الشبكة هامة، لذا سنعالج  *كيفية*  القيام بتتبعات هامة في المرة التالية. 
  
لمعالجة مشكلة في الأداء،  *عليك* الآن تتبع المشكلة في الوقت الذي تواجه فيه مشكلة الأداء. يجب أن تتوفر لديك الأدوات المناسبة لجمع السجلات، كما تحتاج إلى خطة إجراء، أي قائمة إجراءات استكشاف الأخطاء وإصلاحها التي يجب اتخاذها لجمع أفضل المعلومات التي يمكنك القيام بها. أول ما يجب فعله هو تسجيل تاريخ الاختبار وتوقيته بحيث يمكن حفظ الملفات في مجلد يعكس التوقيت. بعد ذلك، اضيق نطاق خطوات المشكلة نفسها. هذه هي الخطوات الدقيقة التي سيتم استخدامها للاختبار. لا تنس الأساسيات: إذا كانت المشكلة Outlook فقط، فتأكد من تسجيل حدوث سلوك المشكلة في خدمة واحدة فقط Office 365 الخدمة. سيساعدك تضييق نطاق هذه المشكلة على التركيز على شيء يمكنك حله. 
  
## <a name="see-also"></a>راجع أيضًا

[إدارة Office 365 نقاط النهاية](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)