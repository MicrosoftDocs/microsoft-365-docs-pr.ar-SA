---
title: تحسين الملحقات المخصصة في صفحات الموقع الحديثة SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: scotv
ms.date: 03/11/2020
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
ms.localizationpriority: medium
ms.collection:
- Ent_O365
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
ms.reviewer: sstewart
search.appverid:
- MET150
description: تعرف على كيفية تحسين أداء الملحقات المخصصة في SharePoint صفحات الموقع الحديثة عبر الإنترنت.
ms.openlocfilehash: a31b6e68227d433359537b9655d68c63b5893cce
ms.sourcegitcommit: e50c13d9be3ed05ecb156d497551acf2c9da9015
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 04/27/2022
ms.locfileid: "65093844"
---
# <a name="optimize-custom-extension-performance-in-sharepoint-online-modern-site-pages"></a>تحسين أداء الملحق المخصص في صفحات الموقع الحديثة SharePoint Online

ستساعدك هذه المقالة على فهم كيفية تحديد كيفية تأثير الملحقات المخصصة على زمن الانتقال المتصور للمستخدم، وكيفية معالجة المشكلات الشائعة.

## <a name="use-the-page-diagnostics-for-sharepoint-tool-to-analyze-custom-extensions"></a>استخدام أداة "تشخيص الصفحة" SharePoint لتحليل الملحقات المخصصة

أداة "تشخيص الصفحة" SharePoint هي ملحق مستعرض Microsoft Edge الجديد (https://www.microsoft.com/edge) ومستعرضات Chrome التي تحلل كل من مدخل SharePoint Online الحديث وصفحات موقع النشر الكلاسيكية. توفر الأداة تقريرا لكل صفحة تم تحليلها يعرض كيفية أداء الصفحة مقابل مجموعة محددة من معايير الأداء. لتثبيت الأداة "تشخيصات الصفحة SharePoint" والتعرف عليها، [قم بزيارة "استخدام أداة تشخيص الصفحة" SharePoint Online](page-diagnostics-for-spo.md).

>[!NOTE]
>تعمل أداة "تشخيص الصفحة" فقط مع SharePoint Online، ولا يمكن استخدامها في صفحة نظام SharePoint.

عند تحليل صفحة موقع SharePoint باستخدام أداة تشخيص الصفحة SharePoint، يمكنك رؤية معلومات حول الملحقات المخصصة التي تتجاوز مقياس الأساس في **الملحقات التي تؤثر على وقت التحميل** و/أو ينتج عن **الملحقات المستخدمة عدد كبير جدا** في جزء _اختبارات التشخيص_ 

تتضمن النتائج المحتملة ما يلي:

- **مطلوب الانتباه** (أحمر): أي ملحق _مخصص_ يستغرق تحميله أكثر من ثانية **واحدة** . يتم تقسيم إجمالي وقت التحميل كما هو معروض في نتائج الاختبار حسب تحميل الوحدة النمطية والتهيئة. بالإضافة إلى ذلك، إذا كان هناك عدد كبير جدا من الملحقات على الصفحة يمكن أن تؤثر على وقت تحميل الصفحة وسيتم تمييز هذا إذا تم استخدام **سبعة** ملحقات أو أكثر على الصفحة.
- **فرص التحسين** (أصفر) إذا تم استخدام **خمسة** ملحقات أو أكثر، فسيتم تمييزها في هذا القسم كتحذير حتى يتم استخدام سبعة ملحقات أو أكثر والتي سيتم تمييزها بعد ذلك على أنها مطلوب الانتباه.
- **لا يلزم إجراء** (أخضر): لا يستغرق تحميل أي ملحق أكثر من ثانية واحدة.

إذا كان أحد الملحقات يؤثر على وقت تحميل الصفحة أو كان هناك عدد كبير جدا من الملحقات على الصفحة، تظهر النتيجة في القسم **"الانتباه" المطلوب** من النتائج. انقر فوق النتيجة للاطلاع على تفاصيل حول الملحق الذي يتم تحميله ببطء أو تم تمييز عدد كبير جدا من الملحقات. قد تتضمن التحديثات المستقبلية لأداة "تشخيصات الصفحة" لأداة SharePoint تحديثات لقواعد التحليل، لذا يرجى التأكد من أن لديك دائما أحدث إصدار من الأداة.

![نتائج وقت تحميل الصفحة.](../media/page-diagnostics-for-spo/pagediag-extensions-load-time.png)

تتضمن المعلومات المتوفرة في النتائج ما يلي:

- يعرض **الاسم والمعرف** معلومات التعريف التي يمكن أن تساعدك في العثور على الملحق على الصفحة
- يظهر **الإجمالي** إجمالي الوقت للملحق لتحميل الوحدة النمطية وتهيئتها. وهو إجمالي الوقت النسبي الذي يستغرقه الملحق للتنفيذ على الصفحة، من البداية إلى النهاية.
- يعرض **تحميل الوحدة النمطية** الوقت المستغرق لتنزيل ملفات JavaScript وCSS للملحقات وتقييمها وتحميلها. ثم سيبدأ عملية التهيئة.
- يعرض **Init** الوقت المستغرق للملحق لتهيئة البيانات.

  إنه استدعاء غير متزامن ووقت التهيئة هو حساب الوقت لدالة onInit عند حل الوعد الذي تم إرجاعه.

يتم توفير هذه المعلومات لمساعدة المصممين والمطورين على استكشاف المشكلات وإصلاحها. يجب توفير هذه المعلومات لفريق التصميم والتطوير.

## <a name="overview-of-extensions"></a>نظرة عامة على الملحقات

يمكن استخدام ملحقات إطار عمل SharePoint (إطار عمل SharePoint) لتوسيع تجربة المستخدم SharePoint. باستخدام إطار عمل SharePoint Extensions، يمكنك تخصيص المزيد من جوانب تجربة SharePoint، بما في ذلك مناطق الإعلام وأشرطة الأدوات وطرق عرض بيانات القائمة.

يمكن أن يكون للملحقات تأثير سيئ على أداء صفحة SharePoint لأنها تتطلب أيضا موارد وحدة المعالجة المركزية والشبكة للقيام بالعمل المطلوب.

هناك أربعة أنواع من الملحقات:

- تضيف **أدوات تخصيص التطبيقات** البرامج النصية إلى الصفحة، والوصول إلى العناصر النائبة لعنصر HTML المعروفة وتوسيعها باستخدام عمليات العرض المخصصة.
- توفر **"تخصيصات الحقول"** طرق عرض معدلة للبيانات للحقول ضمن قائمة.
- تعمل **مجموعات الأوامر** على توسيع أسطح الأوامر SharePoint لإضافة إجراءات جديدة، وتوفر تعليمة برمجية من جانب العميل يمكنك استخدامها لتنفيذ السلوكيات.
- يتم استدعاء **معدل استعلام البحث (المعاينة فقط)** قبل تنفيذ استعلام البحث مباشرة.

## <a name="remediate-extension-performance-issues"></a>معالجة مشكلات أداء الملحق

اتبع الإرشادات الواردة في هذا القسم لتحديد مشكلات الأداء ومعالجتها مع الملحقات المدرجة في **الملحقات التي تؤثر على نتائج وقت تحميل الصفحة** .

>[!NOTE]
>قد يتم تنفيذ أدوات تخصيص التطبيق في المرحلة المبكرة أثناء دورة حياة الصفحة وقد تؤثر على أداء الملحقات الأخرى على الصفحة.

ستعرض نتائج التدقيق في أداة تشخيص الصفحة مرحلتين من تنفيذ ملحق من أجل المساعدة في تحديد تأثير الأداء المحتمل.

- **تحميل الوحدة النمطية** هو المدة التي يستغرقها تحميل الملحق، والذي يتأثر بحجم الملحق لذلك من المستحسن تجميع المكتبات الضرورية فقط في الملحق واختيار مكتبات أخف.
- **Init** هو وقت تهيئة الملحق ويجب على مطوري الملحقات النظر في ما إذا كان الملحق يقوم بعمل غير ضروري أو تنفيذ العديد من الأوامر أثناء مرحلة التهيئة.

يمكن لمؤلفي الصفحات أيضا استخدام نتيجة التدقيق لمعرفة ما إذا كانت الصفحة تحتوي على ملحقات كثيرة جدا لأن العديد من الملحقات ستؤثر سلبا على أداء الصفحة.

- **حجم الملحق والتبعيات**
  - استخدام شبكة تسليم المحتوى Office 365 مطلوب لتنزيل الموارد الثابتة الأمثل. أصول شبكة تسليم المحتوى العامة هي الأفضل _لملفات js/css_ . لمزيد من المعلومات حول استخدام Office 365 CDN، راجع [استخدام شبكة تسليم المحتوى Office 365 (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md).
  - إعادة استخدام أطر العمل مثل _React_ _واستيرادات النسيج_ التي تأتي كجزء من إطار عمل SharePoint (إطار عمل SharePoint). لمزيد من المعلومات، راجع [نظرة عامة على إطار عمل SharePoint](/sharepoint/dev/spfx/sharepoint-framework-overview).
  - تأكد من أنك تستخدم أحدث إصدار من إطار عمل SharePoint، وقم بالترقية إلى إصدارات جديدة عندما تصبح متوفرة.
- **إحضار/تخزين مؤقت للبيانات**
  - إذا كان الملحق يعتمد على استدعاءات الخادم الإضافية لإحضار البيانات للعرض، فتأكد من أن واجهات برمجة التطبيقات للخادم هذه سريعة و/أو تنفيذ التخزين المؤقت من جانب العميل (مثل استخدام _localStorage_ أو _IndexDB_ للمجموعات الأكبر).
  - إذا كانت هناك حاجة إلى استدعاءات متعددة لعرض البيانات الهامة، ففكر في التجميع على الخادم أو أساليب أخرى لدمج الطلبات إلى مكالمة واحدة.
  - بدلا من ذلك، إذا كانت بعض عناصر البيانات تتطلب واجهة برمجة تطبيقات أبطأ، ولكنها ليست ضرورية للعرض الأولي، ففصلها إلى استدعاء منفصل يتم تنفيذه بعد تقديم البيانات الهامة.
  - إذا كانت أجزاء متعددة تستخدم نفس البيانات، فاستخدم طبقة بيانات مشتركة لتجنب الاستدعاءات المكررة.
- **وقت العرض**
  - يجب أن يتم تحديد حجم أي مصادر وسائط مثل الصور ومقاطع الفيديو إلى حدود الحاوية و/أو الجهاز و/أو الشبكة لتجنب تنزيل الأصول الكبيرة غير الضرورية. لمزيد من المعلومات حول تبعيات المحتوى، راجع [استخدام شبكة تسليم المحتوى Office 365 (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md).
  - تجنب استدعاءات واجهة برمجة التطبيقات التي تتسبب في إعادة التدفق أو قواعد CSS المعقدة أو الحركات المعقدة. لمزيد من المعلومات، راجع [تقليل إعادة انسياب المستعرض](https://developers.google.com/speed/docs/insights/browser-reflow).
  - تجنب استخدام المهام طويلة الأمد المتسلسلة. بدلا من ذلك، قم بتقسيم المهام التي يتم تشغيلها لفترة طويلة إلى قوائم انتظار منفصلة. لمزيد من المعلومات، راجع [تحسين تنفيذ JavaScript](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).
  - احجز المساحة المقابلة لعرض الوسائط أو العناصر المرئية بشكل غير متزامن لتجنب الإطارات التي تم تخطيها والتلعثم (المعروفة أيضا باسم _jank_).
  - إذا كان مستعرض معين لا يدعم ميزة مستخدمة في العرض، إما تحميل متعدد التعبئة أو استبعاد تشغيل التعليمات البرمجية التابعة. إذا لم تكن الميزة مهمة، فتخلص من الموارد مثل معالجات الأحداث لتجنب تسرب الذاكرة.

قبل إجراء مراجعات الصفحة لمعالجة مشكلات الأداء، دون ملاحظة لوقت تحميل الصفحة في نتائج التحليل. قم بتشغيل الأداة مرة أخرى بعد المراجعة لمعرفة ما إذا كانت النتيجة الجديدة ضمن معيار الأساس، وتحقق من وقت تحميل الصفحة الجديدة لمعرفة ما إذا كان هناك تحسن.

![نتائج وقت تحميل الصفحة.](../media/modern-portal-optimization/pagediag-page-load-time.png)

>[!NOTE]
>يمكن أن يختلف وقت تحميل الصفحة استنادا إلى مجموعة متنوعة من العوامل مثل تحميل الشبكة ووقت اليوم والظروف العابرة الأخرى. يجب اختبار وقت تحميل الصفحة عدة مرات قبل إجراء التغييرات وبعدها لمساعدتك على متوسط النتائج.

## <a name="related-topics"></a>المواضيع ذات الصلة

[ضبط أداء SharePoint Online](tune-sharepoint-online-performance.md)

[ضبط أداء Office 365](tune-microsoft-365-performance.md)

[الأداء في تجربة SharePoint الحديثة](/sharepoint/modern-experience-performance)

[شبكات تسليم المحتوى](content-delivery-networks.md)

[استخدام شبكة تسليم المحتوى Office 365 (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md)