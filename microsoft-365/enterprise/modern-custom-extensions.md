---
title: تحسين الملحقات المخصصة في SharePoint صفحات الموقع الحديثة عبر الإنترنت
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 03/11/2020
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
ms.localizationpriority: medium
ms.collection:
- Ent_O365
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
ms.reviewer: sstewart
search.appverid:
- MET150
description: تعرف على كيفية تحسين أداء الملحقات المخصصة في SharePoint صفحات الموقع الحديثة عبر الإنترنت.
ms.openlocfilehash: 6493f140a1335b5439707fed94372760ac6fab50
ms.sourcegitcommit: d4b867e37bf741528ded7fb289e4f6847228d2c5
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/06/2021
ms.locfileid: "63569369"
---
# <a name="optimize-custom-extension-performance-in-sharepoint-online-modern-site-pages"></a>تحسين أداء الملحقات المخصصة في SharePoint صفحات الموقع الحديثة عبر الإنترنت

ستساعدك هذه المقالة على فهم كيفية تحديد كيفية تأثير الملحقات المخصصة على زمن الوصول المتصور للمستخدم، وكيفية حل المشاكل الشائعة.

## <a name="use-the-page-diagnostics-for-sharepoint-tool-to-analyze-custom-extensions"></a>استخدام أداة تشخيص الصفحة SharePoint لتحليل الملحقات المخصصة

أداة تشخيص الصفحة SharePoint هي ملحق مستعرض للمستعرض الجديد Microsoft Edge (https://www.microsoft.com/edge) ومستعرضات Chrome التي تحلل كل من SharePoint الحديث عبر الإنترنت وصفحات موقع النشر الكلاسيكي. توفر الأداة تقريرا لكل صفحة تم تحليلها يعرض كيفية أداء الصفحة مقابل مجموعة محددة من معايير الأداء. لتثبيت أداة تشخيص الصفحة SharePoint للتعرف عليها، تفضل بزيارة استخدام أداة تشخيص الصفحة [SharePoint Online](page-diagnostics-for-spo.md).

>[!NOTE]
>تعمل الأداة "تشخيص الصفحة" فقط SharePoint Online، ولا يمكن استخدامها على صفحة SharePoint ويب.

عند تحليل صفحة موقع SharePoint باستخدام أداة "تشخيص الصفحة ل SharePoint"، يمكنك الاطلاع على معلومات حول الملحقات المخصصة التي تتجاوز مقياس الأساس في الملحقات تؤثر على وقت التحميل و/أو  نتيجة استخدام عدد كبير جدا من الملحقات في جزء الاختبارات  التشخيصية  

تتضمن النتائج المحتملة:

- **الانتباه مطلوب** (أحمر _): أي ملحق_ مخصص يستغرق وقتا أطول من **ثانية** واحدة لتحميله. يتم تقسيم إجمالي وقت التحميل كما هو معروض في نتائج الاختبار حسب تحميل الوحدة النمطية و init. بالإضافة إلى ذلك، إذا كان هناك عدد كبير جدا من الملحقات على الصفحة، يمكن أن تؤثر على وقت تحميل الصفحة، وسيتم تمييز ذلك إذا تم استخدام **سبعة** ملحقات أو أكثر على الصفحة.
- **فرص التحسين** (الأصفر) إذا تم  استخدام خمسة ملحقات أو أكثر، سيتم تمييزها في هذا المقطع كتحذير حتى يتم استخدام سبعة أو أكثر والتي سيتم تمييزها بعد ذلك على أنها مطلوب الانتباه.
- **لا يتطلب أي إجراء** (أخضر): لن يتطلب تحميل أي ملحق أكثر من ثانية واحدة.

إذا كان أحد الملحقات يؤثر على وقت تحميل الصفحة أو كان هناك عدد كبير جدا من الملحقات على الصفحة، تظهر النتيجة في المقطع **انتباه** مطلوب من النتائج. انقر فوق النتيجة للاطلاع على تفاصيل حول الملحق الذي يتم تحميله ببطء أو تم تمييز عدد كبير جدا من الملحقات. قد تتضمن التحديثات المستقبلية لأداة تشخيص الصفحة SharePoint تحديثات لقواعد التحليل، لذا يرجى التأكد من أن لديك دائما أحدث إصدار من الأداة.

![نتائج وقت تحميل الصفحة.](../media/page-diagnostics-for-spo/pagediag-extensions-load-time.png)

تتضمن المعلومات المتوفرة في النتائج ما يلي:

- **يعرض الاسم والمعرف** معلومات التعريف التي يمكن أن تساعدك في العثور على الملحق على الصفحة
- **يعرض** الإجمالي الوقت الإجمالي للملحق لتحميل الوحدة النمطية وتهييدها. إنه إجمالي الوقت النسبي الذي تم اتخاذه بواسطة الملحق لتنفيذه على الصفحة، من البداية إلى النهاية.
- **يعرض تحميل** الوحدة النمطية الوقت الذي تم أخذه لتنزيل ملفات JavaScript و CSS الملحقات وتقييمها وتحميلها. بعد ذلك، ستبدأ عملية Init.
- **يعرض Init** الوقت الذي تم أخذه للملحق لتكهين البيانات.

  إنها مكالمة غير متزامنة والوقت غير المتزامن هو حساب الوقت للدالة onInit عند حل الوعد الذي تم إرجاعه.

يتم توفير هذه المعلومات لمساعدة المصممين والمطورين على استكشاف المشاكل وإصلاحها. يجب توفير هذه المعلومات لفريق التصميم والتطوير.

## <a name="overview-of-extensions"></a>نظرة عامة على الملحقات

إطار عمل SharePoint (إطار عمل SharePoint) الملحقات لتوسيع SharePoint المستخدم. باستخدام إطار عمل SharePoint الملحقات، يمكنك تخصيص المزيد من جوانب تجربة SharePoint، بما في ذلك مناطق الإعلامات و شريط الأدوات و طرق عرض بيانات القائمة.

يمكن أن يكون للملحقات تأثير سيئ على أداء صفحة SharePoint حيث تتطلب أيضا موارد الشبكة ووحدة المعالجة المركزية (CPU) للقيام بالعمل المطلوب.

هناك أربعة أنواع من الملحقات:

- **تضيف "تخصيصات** التطبيقات" البرامج النصية إلى الصفحة، والوصول إلى العناصر النائبة المعروفة لعناصر HTML وتوسيعها باستخدام عناصر عرض مخصصة.
- **توفر "تخصيصات** الحقول" طرق عرض معدلة لبيانات الحقول ضمن قائمة.
- **تقوم مجموعات** الأوامر بتوسيع SharePoint الأوامر لإضافة إجراءات جديدة، وتوفر التعليمات البرمجية من جانب العميل التي يمكنك استخدامها لتنفيذ السلوكيات.
- **يتم استدعاء تعديل استعلام البحث (** معاينة فقط) قبل تنفيذ استعلام البحث.

## <a name="remediate-extension-performance-issues"></a>إصلاح مشاكل أداء الملحقات

اتبع الإرشادات الواردة في هذا القسم للتعرف على مشاكل الأداء التي تؤثر على نتائج وقت تحميل الصفحات مع الملحقات المدرجة في الملحقات.

>[!NOTE]
>قد يتم تنفيذ تخصيصات التطبيقات في المرحلة الأولى أثناء دورة حياة الصفحة وقد تؤثر على أداء الملحقات الأخرى على الصفحة.

تعرض نتائج التدقيق في أداة تشخيص الصفحة مرحلتين من تنفيذ ملحق للمساعدة في تحديد التأثير المحتمل على الأداء.

-  إن تحميل الوحدة النمطية هو الوقت الذي يستغرقه تحميل الملحق، الذي يؤثر عليه حجم الملحق، لذا من الجيد تجميع المكتبات الضرورية في الملحق فقط واختيار مكتبات أخف.
- **إن Init** هو وقت التهيي للملحق ويجب على مطوري الملحقات التفكير في ما إذا كان الملحق يقوم بعمل غير ضروري أو تنفيذ عدد كبير جدا من الأوامر أثناء مرحلة التهريب.

يمكن لكاتب الصفحات أيضا استخدام نتيجة التدقيق لمعرفة ما إذا كانت الصفحة تحتوي على عدد كبير جدا من الملحقات حيث سي تؤثر الملحقات بشكل سلبي على أداء الصفحة.

- **حجم الملحق والتبعيات**
  - إن استخدام Office 365 CDN مطلوب لتنزيل الموارد الثابتة المثلى. يفضل استخدام أصول CDN العامة _لملفات js/css_ . لمزيد من المعلومات حول Office 365 CDN، راجع استخدام Office 365 [تسليم المحتوى (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md).
  - أعد استخدام إطارات _React_ _استيراد المنتجات_ والنسيج التي تأتي كجزء من إطار عمل SharePoint (إطار عمل SharePoint). لمزيد من المعلومات، راجع [نظرة عامة على إطار عمل SharePoint](/sharepoint/dev/spfx/sharepoint-framework-overview).
  - تأكد من أنك تستخدم الإصدار الأخير من إطار عمل SharePoint، ثم قم بالترقية إلى الإصدارات الجديدة عندما تصبح متوفرة.
- **إحضار البيانات/التخزين المؤقت**
  - إذا كان الملحق يعتمد على مكالمات خادم إضافية لإحضار البيانات لعرضها، فتأكد من أن واجهات برمجة التطبيقات للخادم هذه سريعة و/أو تنفيذ التخزين المؤقت من جانب العميل (مثل _استخدام localStorage_ أو _IndexDB_ ل مجموعات أكبر).
  - إذا كانت هناك استدعاءات متعددة مطلوبة لتقديم البيانات الهامة، فنظر في الدفع على الخادم أو أساليب أخرى لدمج الطلبات في مكالمة واحدة.
  - بدلا من ذلك، إذا تطلبت بعض عناصر البيانات برمجة API أبطأ، ولكنها ليست مهمة بالنسبة إلى العرض الأولي، ففصلها إلى مكالمة منفصلة يتم تنفيذها بعد عرض البيانات الهامة.
  - إذا كانت أجزاء متعددة تستخدم البيانات نفسها، فاستخدم طبقة بيانات شائعة لتجنب تكرار المكالمات.
- **وقت العرض**
  - يجب أن يتم تحديد حجم أي مصادر وسائط مثل الصور ومقاطع الفيديو إلى حدود الحاوية أو الجهاز و/أو الشبكة لتجنب تنزيل الأصول الكبيرة غير الضرورية. لمزيد من المعلومات حول تبعيات المحتوى، راجع استخدام [Office 365 تسليم المحتوى (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md).
  - تجنب مكالمات API التي تتسبب في إعادة تدفق قواعد CSS المعقدة أو الحركات المعقدة. لمزيد من المعلومات، راجع [تصغير تدفق المستعرض](https://developers.google.com/speed/docs/insights/browser-reflow).
  - تجنب استخدام المهام الطويلة السلسلة. بدلا من ذلك، افصل المهام الطويلة عن بعضها إلى قوائم انتظار منفصلة. لمزيد من المعلومات، راجع [تحسين تنفيذ JavaScript](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).
  - احجز مساحة مقابلة للعناصر المرئية أو الوسائط غير المتزامنة لتجنب تخطي الإطارات والتلعثم (المعروفة أيضا ب _jank_).
  - إذا لم يكن هناك مستعرض معين يدعم ميزة مستخدمة في العرض، يمكنك إما تحميل ميزة ملء متعددة أو استبعاد تشغيل التعليمات البرمجية التابعة. إذا لم تكن الميزة هامة، فتخلص من الموارد مثل معالجات الأحداث لتجنب تسريب الذاكرة.

قبل إجراء مراجعات للصفحة من أجل حل مشاكل الأداء، دون وقت تحميل الصفحة في نتائج التحليل. قم بتشغيل الأداة مرة أخرى بعد المراجعة لمعرفة ما إذا كانت النتيجة الجديدة ضمن معيار الأساس، وتحقق من وقت تحميل الصفحة الجديدة لمعرفة ما إذا كان هناك أي تحسين.

![نتائج وقت تحميل الصفحة.](../media/modern-portal-optimization/pagediag-page-load-time.png)

>[!NOTE]
>يمكن أن يختلف وقت تحميل الصفحة استنادا إلى مجموعة متنوعة من العوامل مثل تحميل الشبكة والوقت من اليوم والشروط الأخرى غير المتتية. يجب اختبار وقت تحميل الصفحة بضع مرات قبل إجراء التغييرات وبعدها لمساعدتك على متوسط النتائج.

## <a name="related-topics"></a>المواضيع ذات الصلة

[ضبط SharePoint عبر الإنترنت](tune-sharepoint-online-performance.md)

[ضبط Office 365 الأداء](tune-microsoft-365-performance.md)

[الأداء في تجربة SharePoint الحديثة](/sharepoint/modern-experience-performance)

[شبكات تسليم المحتوى](content-delivery-networks.md)

[استخدام Office 365 تسليم المحتوى (CDN) مع SharePoint Online](use-microsoft-365-cdn-with-spo.md)