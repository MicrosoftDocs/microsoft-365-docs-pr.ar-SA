---
title: عزل المستأجر في Microsoft 365 البحث
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
description: في هذه المقالة، ابحث عن شرح حول كيفية عمل عزل المستأجر لفصل بيانات المستأجر في Microsoft 365 البحث.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 3416afdeceaa7000b516ec89b4a2a1e59d8708d0
ms.sourcegitcommit: 27addd4dac07926528b788215d2dcd0e46301eb1
ms.translationtype: MT
ms.contentlocale: ar-SA
ms.lasthandoff: 07/16/2021
ms.locfileid: "63569964"
---
# <a name="tenant-isolation-in-microsoft-365-search"></a>عزل المستأجر في Microsoft 365 البحث

SharePoint البحث عبر الإنترنت نموذج فصل المستأجر الذي يوازن فعالية بنى البيانات المشتركة مع الحماية من تسريب المعلومات بين المستأجرين. باستخدام هذا النموذج، نمنع ميزات البحث من:

- إرجاع نتائج الاستعلام التي تحتوي على مستندات من مستأجرين آخرين
- الكشف عن معلومات كافية في نتائج الاستعلام يمكن للمستخدم الماهر استنتاج معلومات حول المستأجرين الآخرين
- إظهار مخطط أو إعدادات من مستأجر آخر
- يؤدي خلط معلومات معالجة التحليلات بين المستأجرين أو المتجر إلى مستأجر غير صحيح
- استخدام إدخالات القاموس من مستأجر آخر

لكل نوع من أنواع بيانات المستأجر، نستخدم طبقة واحدة أو أكثر من طبقات الحماية في التعليمة البرمجية لمنع تسريب المعلومات عن طريق الخطأ. تتوفر في البيانات الأكثر أهمية معظم طبقات الحماية للتأكد من أن عيبا واحدا لا يؤدي إلى التسريب الفعلي أو المتصور للمعلومات.

## <a name="tenant-separation-for-the-search-index"></a>فصل المستأجر لفهرس البحث

يتم تخزين فهرس البحث على القرص في الخوادم التي تستضيف مكونات الفهرس ويتشارك المستأجرون ملفات الفهرس. تكون مستندات المستأجر المفهرسة مرئية فقط للاستعلامات الخاصة بهذا المستأجر. تمنع ثلاث آليات مستقلة تسريب المعلومات:

- تصفية "الم ID" للمستأجر
- البادأه لمصطلح "مستأجر الم ID"
- التحقق من ACL

قد تفشل الآليات الثلاثة كلها في البحث لإرجاع المستندات إلى المستأجر غير صحيح.

## <a name="tenant-id-filtering-and-tenant-id-term-prefixing"></a>تصفية "الم ID المستأجر" وبادرة مصطلح "مستأجر"

يبادئ البحث كل مصطلح يتم فهرسته في فهرس النص الكامل باستخدام "معريف المستأجر". على سبيل المثال، عندما يتم فهرسة مصطلح "*foo*" لمستأجر بملف "*123*"، يكون الإدخال في فهرس النص الكامل هو "*123foo".*

يتم تحويل كل استعلام لتضمين "معرّف المستأجر" باستخدام عملية تسمى تصفية "المسمى المستأجر". على سبيل المثال، يتم تحويل الاستعلام "*foo*" إلى "<*guid>* . *foo* AND *tenantID*:<*guid>* ", حيث <*guid> يمثل* المستأجر الذي يقوم بتنفيذ الاستعلام. يحدث تحويل الاستعلام هذا داخل كل عقدة فهرسة ولا يمكن للاستعلام أو معالجة المحتوى التأثير عليه. نظرا إلى إضافة "الموفر" إلى كل استعلام، لا يمكن استنتاج مدى تكرار مصطلح في المستأجرين الآخرين بالنظر إلى أفضل مستوى يطابق التصنيف في مستأجر واحد.

تحدث البادئة لمصطلح "مستأجر" في فهرس النص الكامل فقط. انتقل عمليات البحث الحقلية، مثل "*العنوان:foo*"، إلى فهرس بحث تركيبي حيث لا يتم البادؤ بالمصطلحات بواسطة "الم ID المستأجر". بدلا من ذلك، تكون عمليات البحث الحقليةبادية باسم الحقل. على سبيل المثال، يتم تحويل الاستعلام "*title:foo*" إلى "*fields.title:foo AND fields.tenantID*:<*guid>* ". وبما أن تكرار مصطلح ما لا يؤثر على تصنيف عدد مرات الضرب في فهرس البحث الصناعي، فلا حاجة إلى فصل المستأجر حسب البادأ للمصطلح. بالنسبة إلى عملية بحث حقلية مثل "*العنوان:foo*"، يعتمد فصل محتوى المستأجر على تصفية "الم ID المستأجر" حسب تحويل الاستعلام.

## <a name="document-access-control-list-checks"></a>التحقق من قائمة التحكم بالوصول إلى المستند

يتحكم البحث بالوصول إلى المستندات من خلال قوائم التحكم في الوصول التي تم حفظها في فهرس البحث. يتم فهرسة كل عنصر مع مجموعة من المصطلحات في حقل ACL خاص. يحتوي الحقل ACL على مصطلح واحد لكل مجموعة أو مستخدم يمكنه عرض المستند. يتم زيادة كل استعلام بواسطة قائمة بمصطلحات إدخال التحكم بالوصول (ACE)، واحدة لكل مجموعة ينتمي إليها المستخدم المصادق عليه.

على سبيل المثال، استعلام مثل "<*guid>*. *foo AND tenantID*:<*guid>*" تصبح: "<*guid>*. *foo AND tenantID*:<*guidAND*>  (*docACL:*<*ace1OR*>  *docACL*:<*ace2OR*>  *docACL*:<*ace3*> *...*)"

ونظرا لأن معرفات المستخدم ومعرف المجموعة وبالتالي معرفات ACEs فريدة، فإن ذلك يوفر مستوى إضافيا من الأمان بين المستأجرين للمستندات التي تكون مرئية فقط لبعض المستخدمين. ينطبق الأمر نفسه على ACE الخاص "الجميع باستثناء المستخدمين الخارجيين" الذي يمنح حق الوصول إلى المستخدمين العاديين في المستأجر. ولكن بما أن ACEs الخاصة ب "الجميع" هي نفسها لجميع المستأجرين، فإن فصل المستأجر للمستندات العامة يعتمد على تصفية "ID" للمستأجر. رفض أن تكون ACEs معتمدة أيضا. يضيف تكبير الاستعلام عبارة تزيل مستندا من النتيجة عند وجود تطابق مع رفض ACE.

في Exchange Online البحث، يتم تقسيم الفهرس على "معرّف علبة البريد" لعلب بريد المستخدم الفردية بدلا من "مبدل المستأجر" ("اسم الاشتراك") كما في SharePoint Online. إن آلية التقسيم هي نفس آلية SharePoint Online، ولكن لا توجد تصفية ACL.
